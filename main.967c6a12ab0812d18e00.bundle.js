(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1002:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(551)},132:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return $icon}));__webpack_require__(15),__webpack_require__(18),__webpack_require__(211);var zorium__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(90);function $icon(props){var _size,_size$indexOf,_size2,_size2$indexOf,icon=props.icon,isAlignedTop=props.isAlignedTop,isAlignedLeft=props.isAlignedLeft,isAlignedRight=props.isAlignedRight,isAlignedBottom=props.isAlignedBottom,isCircled=props.isCircled,color=props.color,onclick=props.onclick,onmousedown=props.onmousedown,hasRipple=props.hasRipple,_props$viewBox=props.viewBox,viewBox=void 0===_props$viewBox?24:_props$viewBox,_props$heightRatio=props.heightRatio,heightRatio=void 0===_props$heightRatio?1:_props$heightRatio,isTouchTarget=props.isTouchTarget,_props$size=props.size,size=void 0===_props$size?"24px":_props$size,_props$touchWidth=props.touchWidth,touchWidth=void 0===_props$touchWidth?"48px":_props$touchWidth,_props$touchHeight=props.touchHeight,touchHeight=void 0===_props$touchHeight?"48px":_props$touchHeight,colors=Object(zorium__WEBPACK_IMPORTED_MODULE_3__.d)(_context__WEBPACK_IMPORTED_MODULE_5__.a).colors,isClickable=Boolean(onclick||onmousedown),tag=hasRipple?"a":"div";return isCircled&&(isTouchTarget|=!0,size=size||"16px",touchWidth=touchWidth||"40px",touchHeight=touchHeight||"40px"),Object(zorium__WEBPACK_IMPORTED_MODULE_3__.i)("".concat(tag,".z-icon"),{className:Object(zorium__WEBPACK_IMPORTED_MODULE_3__.a)({isAlignedTop:isAlignedTop,isAlignedLeft:isAlignedLeft,isAlignedRight:isAlignedRight,isAlignedBottom:isAlignedBottom,isTouchTarget:isTouchTarget,isClickable:isClickable,isCircled:isCircled,hasRippleWhite:hasRipple&&color!==colors.$header500Icon,hasRippleHeader:hasRipple&&color===colors.$header500Icon}),tabindex:hasRipple?{tabindex:0}:void 0,onclick:onclick,onmousedown:onmousedown,style:{minWidth:isTouchTarget?touchWidth:"0",minHeight:isTouchTarget?touchHeight:"100%",width:size,height:-1!==(null===(_size=size)||void 0===_size||null===(_size$indexOf=_size.indexOf)||void 0===_size$indexOf?void 0:_size$indexOf.call(_size,"%"))?"".concat(parseInt(size)*heightRatio,"%"):"".concat(parseInt(size)*heightRatio,"px")}},[Object(zorium__WEBPACK_IMPORTED_MODULE_3__.i)("svg",{namespace:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(viewBox," ").concat(viewBox*heightRatio),style:{width:size,height:-1!==(null===(_size2=size)||void 0===_size2||null===(_size2$indexOf=_size2.indexOf)||void 0===_size2$indexOf?void 0:_size2$indexOf.call(_size2,"%"))?"".concat(parseInt(size)*heightRatio,"%"):"".concat(parseInt(size)*heightRatio,"px")}},[Object(zorium__WEBPACK_IMPORTED_MODULE_3__.i)("path",{namespace:"http://www.w3.org/2000/svg",d:icon,fill:color,"fill-rule":"evenodd"})])])}"undefined"!=typeof window&&__webpack_require__(1429),$icon.propTypes={icon:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,isAlignedTop:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,isAlignedLeft:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,isAlignedRight:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,isAlignedBottom:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,isCircled:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,size:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,onclick:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,onmousedown:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,hasRipple:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,viewBox:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,heightRatio:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,isTouchTarget:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,touchWidth:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,touchHeight:prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string}},1403:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(87),__webpack_require__(67),__webpack_require__(49),__webpack_require__(64),__webpack_require__(1404),__webpack_require__(1405),__webpack_require__(14),__webpack_require__(68);var _clientApi=__webpack_require__(97),_clientLogger=__webpack_require__(58),_configFilename=__webpack_require__(1447);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1417:function(module,exports,__webpack_require__){var map={"./en/paths_en.json":1418,"./en/strings_en.json":1419};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1417},1418:function(module){module.exports=JSON.parse('{"home":"/","orgHome":"/org/:orgSlug","orgDashboard":"/org/:orgSlug/dashboard/:dashboardSlug","orgDashboardWithPartner":"/org/:orgSlug/partner/:partnerSlug/dashboard/:dashboardSlug","orgPartner":"/org/:orgSlug/partner/:partnerSlug","orgSignIn":"/org/:orgSlug/sign-in","orgInvite":"/org/:orgSlug/invite/:inviteTokenStr","orgPrivacy":"/org/:orgSlug/privacy","orgSettings":"/org/:orgSlug/settings","orgSettingsWithTab":"/org/:orgSlug/settings/:tab","orgShell":"/org/:orgSlug/cache-shell","invite":"/invite/:tokenStr","privacy":"/privacy","shell":"/cache-shell","fourOhFour":"/*"}')},1419:function(module){module.exports=JSON.parse('{"general.dashboard":"Dashboard","general.dashboards":"Dashboards","general.donate":"Donate","general.overview":"Overview","appBar.title":"Impact","dashboard.donateText":"Help us grow","home.title":"Impact","home.description":"Easily track, share, and learn from your metrics","home.nonprofitsUsing":"Super cool nonprofits already using Impact","home.inviteOnly":"Invite only","home.requestAccess":"Request early access","home.techBy":"Tech by a nonprofit, for nonprofits","editOrgUserDialog.title":"Edit user","inviteOrgUserDialog.title":"Invite user","inviteOrgUserDialog.partnersDescription":"Which partner(s) is this user associated with?","inviteOrgUserDialog.rolesDescription":"Which role(s) should this user have?","inviteOrgUserDialog.inviteEmailTitle":"Invite with email","inviteOrgUserDialog.inviteLinkTitle":"OR enter the name of the person you want to invite and generate a link","inviteOrgUserDialog.generateLink":"Generate link","newBlockDialog.title":"Add a block","newBlockDialog.private":"Keep this block private","newBlockDialog.privateDescription":"Only you will be able to see it","newDashboardDialog.title":"Add a dashboard","orgUsers.description":"Find all of the accounts youâ€™ve invited and their associated roles","orgUsers.invitedUsers":"Invited users","orgUsers.deleteInvite":"Are you sure you want to delete this invite?","partnerDropdown.placeholder":"View as","partnerPicker.placeholder":"Select partner(s)","rolePicker.placeholder":"Select role(s)","sidebar.addDashboard":"Add dashboard","blockType.line":"Line","blockType.bar":"Bar","blockType.pie":"Pie","frequencies.day":"Day","frequencies.week":"Week","frequencies.month":"Month","inputDateRange.today":"Today","inputDateRange.7days":"Last 7 days","inputDateRange.30days":"Last 30 days","inputDateRange.thisMonth":"This month","inputDateRange.lastMonth":"Last month","inputDateRange.last6Months":"Last 6 months","inputDateRange.last12Months":"Last 12 months","inputDateRange.thisYear":"This year","homePage.title":"Impact","homePage.description":"Nonprofit impact measured"}')},1420:function(module,exports,__webpack_require__){var map={"./en/strings_en.json":1421};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1420},1421:function(module){module.exports=JSON.parse('{"general.all":"All","general.anonymous":"Anonymous","general.back":"Back","general.cancel":"Cancel","general.community":"Community","general.email":"Email","general.events":"Events","general.give":"Give","general.gotIt":"Got it","general.invite":"Invite","general.loading":"Loading...","general.name":"Name","general.next":"Next","general.no":"No","general.notNow":"Not now","general.partner":"Partner","general.partners":"Partners","general.password":"Password","general.profile":"Profile","general.readMore":"Read more","general.roles":"Roles","general.save":"Save","general.settings":"Settings","general.signIn":"Sign in","general.skip":"Skip","general.type":"Type","general.user":"User","general.users":"Users","general.yes":"Yes","editRole.description":"Set roles for users. Roles give different permissions","editRole.roleName":"Role name","editRole.generalPermissions":"General permissions","getAppDialog.title":"Native apps","getAppDialog.text":"Get the app on Android or iOS!","inputRange.default":"Drag to set value","meta.homePageTitle":"","meta.defaultTitle":"TechBy","meta.defaultDescription":"","requestRating.title":"Do you like this app?","requestRating.text":"Help us by leaving a review :)","requestRating.rate":"Yes - 5 stars!","pushNotificationsSheet.message":"Turn on notifications so you don\'t miss any events or messages","pushNotificationsSheet.submitButtonText":"Turn on","signIn.alreadyLoggedIn":"You\'re already logged in. Click to sign out","signIn.haveAccount":"Already have an account?","signIn.notHaveAccount":"Already have an account?","signIn.resetPassword":"Reset password","signIn.emailResetLink":"Email reset link","signIn.join":"Create account","signIn.signIn":"Sign in","signIn.title":"Welcome to {orgName}\'s Impact!","signIn.invalidInviteTitle":"Invite link invalid","signIn.invalidInviteDescription":"This link is no longer valid. Reach out to the organization for a new link","signIn.terms":"By registering, you agree to our {tos}","unsubscribeEmail.isUnsubscribed":"Your email is now unsubscribed.","unsubscribeEmail.tapHome":"Return to homepage","verifyEmail.isVerified":"Thank you! Your email is now verified.","verifyEmail.tapHome":"Return to homepage","404Page.text":"Page not found!","tosPage.title":"TOS","sourceTypes.global-publics":"Global (public)","sourceTypes.global-publicDescription":"This is the default setting for all public types if more narrowed-in settings are left unset","sourceTypes.global-privates":"Global (private)","sourceTypes.global-privateDescription":"This is the default setting for all private types if more narrowed-in settings are left unset","sourceTypes.dashboards":"Dashboards","sourceTypes.dashboardDescription":"Dashboards default to public, but you can make certain dashboards private. Enabling \\"view\\" will allow a role to view private dashboards","sourceTypes.partners":"Partners","sourceTypes.org-user-invites":"Invites","permissionType.view":"View","permissionType.edit":"Create, edit & delete","time.justNow":"now","time.secondShorthand":"s","time.minuteShorthand":"m","time.hourShorthand":"h","time.dayShorthand":"d","time.weekShorthand":"w","time.monthShorthand":"M","time.yearShorthand":"Y","months.0":"January","months.1":"February","months.2":"March","months.3":"April","months.4":"May","months.5":"June","months.6":"July","months.7":"August","months.8":"September","months.9":"October","months.10":"November","months.11":"December","status.newVersion":"Refresh to get the latest app update","status.offline":"You are offline, some features may not work","error.usernameTaken":"Username is taken","error.emailTaken":"Email is taken","error.emailMismatch":"Email doesn\'t match","error.emailNotFound":"Email not found","error.emptyReview":"Review cannot be blank","error.invalid":"Invalid","error.invalidCoordinates":"Invalid coordinates","error.invalidUsername":"Username must be alphanumeric, without spaces","error.invalidPassword":"Invalid password","error.invalidCurrentPassword":"Invalid current password","error.usernameNotFound":"Username not found","error.incorrectPassword":"Incorrect password","error.invalidEmail":"Invalid email","error.passwordSet":"Password is already set"}')},1427:function(module,exports,__webpack_require__){},1428:function(module,exports,__webpack_require__){},1429:function(module,exports,__webpack_require__){},1430:function(module,exports,__webpack_require__){},1431:function(module,exports,__webpack_require__){},1438:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(551).configure)([__webpack_require__(1439)],module,!1)}).call(this,__webpack_require__(146)(module))},1439:function(module,exports,__webpack_require__){var map={"./frontend-shared/components/app_bar/stories.js":1451,"./frontend-shared/components/avatar/stories.js":1452,"./frontend-shared/components/button/stories.js":1442,"./frontend-shared/components/icon/stories.js":1443,"./frontend-shared/components/input/stories.js":1450};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1439},1440:function(module,exports,__webpack_require__){},1441:function(module,exports,__webpack_require__){},1442:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__(190);var zorium__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_services_story__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(172),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(233);__webpack_exports__.default={title:"$button",component:_index__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:Object(_services_story__WEBPACK_IMPORTED_MODULE_2__.a)(_index__WEBPACK_IMPORTED_MODULE_3__.a)};var Primary=function Template(props){return Object(zorium__WEBPACK_IMPORTED_MODULE_1__.i)(_index__WEBPACK_IMPORTED_MODULE_3__.a,props)}.bind({});Primary.args={isPrimary:!0,text:"Button"}},1443:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(190);var zorium__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_services_story__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(172),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(132),_paths__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(342);__webpack_exports__.default={title:"$icon",component:_index__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:Object(_services_story__WEBPACK_IMPORTED_MODULE_2__.a)(_index__WEBPACK_IMPORTED_MODULE_3__.a)};var Default=function Template(props){return console.log("prop",props),Object(zorium__WEBPACK_IMPORTED_MODULE_1__.i)(_index__WEBPACK_IMPORTED_MODULE_3__.a,props)}.bind({});Default.args={icon:_paths__WEBPACK_IMPORTED_MODULE_4__.b}},1444:function(module,exports,__webpack_require__){},1447:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"decorators",(function(){return decorators}));__webpack_require__(116);var src=__webpack_require__(5),node_modules_cookie=__webpack_require__(467),cookie_default=__webpack_require__.n(node_modules_cookie),location_router_src=__webpack_require__(666),socket_io_slim=__webpack_require__(667),socket_io_slim_default=__webpack_require__.n(socket_io_slim),classCallCheck=(__webpack_require__(313),__webpack_require__(24),__webpack_require__(20),__webpack_require__(69),__webpack_require__(12)),classCallCheck_default=__webpack_require__.n(classCallCheck),defineProperty=__webpack_require__(2),defineProperty_default=__webpack_require__.n(defineProperty),BehaviorSubject=__webpack_require__(1455),services_cookie=function Cookie(_ref){var _this=this,initialCookies=_ref.initialCookies,setCookie=_ref.setCookie,_host=_ref.host;classCallCheck_default()(this,Cookie),defineProperty_default()(this,"getCookieOpts",(function(key,_ref2){var _ref2$ttlMs=_ref2.ttlMs,ttlMs=void 0===_ref2$ttlMs?31536e6:_ref2$ttlMs,host=_ref2.host,hostname=(host=host||_this.host).split(":")[0];return{path:"/",expires:new Date(Date.now()+ttlMs),domain:"localhost"===hostname?hostname:"."+hostname}})),defineProperty_default()(this,"set",(function(key,value){var _ref3=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref3$ttlMs=_ref3.ttlMs,ttlMs=void 0===_ref3$ttlMs?31536e6:_ref3$ttlMs,host=_ref3.host;_this.cookies[key]=value,_this.stream.next(_this.cookies);var options=_this.getCookieOpts(key,{ttlMs:ttlMs,host:host});return _this.setCookie(key,value,options)})),defineProperty_default()(this,"get",(function(key){return _this.cookies[key]})),defineProperty_default()(this,"getStream",(function(){return _this.stream})),this.setCookie=setCookie,this.host=_host,this.cookies=initialCookies||{},this.stream=new BehaviorSubject.a(this.cookies)},helpers_typeof=(__webpack_require__(210),__webpack_require__(21),__webpack_require__(72),__webpack_require__(1)),typeof_default=__webpack_require__.n(helpers_typeof),createClass=__webpack_require__(47),createClass_default=__webpack_require__.n(createClass),findKey=__webpack_require__(1480),reduce=__webpack_require__(1457),slicedToArray=(__webpack_require__(15),__webpack_require__(32),__webpack_require__(16),__webpack_require__(1414),__webpack_require__(632),__webpack_require__(211),__webpack_require__(98),__webpack_require__(131)),slicedToArray_default=__webpack_require__.n(slicedToArray),padStart=__webpack_require__(1472),services_date=new(function(){function DateService(){var _this=this;classCallCheck_default()(this,DateService),defineProperty_default()(this,"setLang",(function(lang){return _this.lang=lang,null})),defineProperty_default()(this,"formatSeconds",(function(seconds,precision){var divisor,str;return null==precision&&(precision=0),seconds<60?(divisor=1,str=_this.lang.get("time.secondShorthand")):seconds<3600?(divisor=60,str=_this.lang.get("time.minuteShorthand")):seconds<=86400?(divisor=3600,str=_this.lang.get("time.hourShorthand")):seconds<=604800&&(divisor=86400,str=_this.lang.get("time.dayShorthand")),+parseFloat(seconds/divisor).toFixed(precision)+str})),defineProperty_default()(this,"fromNowSeconds",(function(seconds){return isNaN(seconds)?"...":seconds<30?_this.lang.get("time.justNow"):seconds<60?parseInt(seconds)+_this.lang.get("time.secondShorthand"):seconds<3600?parseInt(seconds/60)+_this.lang.get("time.minuteShorthand"):seconds<=86400?parseInt(seconds/3600)+_this.lang.get("time.hourShorthand"):seconds<=604800?parseInt(seconds/86400)+_this.lang.get("time.dayShorthand"):parseInt(seconds/604800)+_this.lang.get("time.weekShorthand")})),defineProperty_default()(this,"fromNow",(function(date){date instanceof Date||(date=new Date(date));var seconds=Math.abs((Date.now()-date.getTime())/1e3);return _this.fromNowSeconds(seconds)})),defineProperty_default()(this,"getDatesFromPresetDateRange",(function(presetDateRange){var options=_this.getPresetDateRangeOptions()[presetDateRange]||_this.getPresetDateRangeOptions().last6Months;return{startDate:options.startDateFn(),endDate:options.endDateFn()}})),this.setLocale("en")}return createClass_default()(DateService,[{key:"format",value:function format(date,_format){var D,mm,MMM,yyyy;if(date instanceof Date||(date=new Date(date)),"MMM D"===_format)return MMM=this.lang.get("months.".concat(date.getMonth())).substring(0,3),D=date.getDate(),"".concat(MMM," ").concat(D);if("MMM D, h:mm a"===_format){MMM=this.lang.get("months.".concat(date.getMonth())).substring(0,3),D=date.getDate();var hours=date.getHours(),h=hours%12;0===h&&(h=12),mm=padStart.a(date.getMinutes(),2,"0");var a=hours>12?"pm":"am";return"".concat(MMM," ").concat(D,", ").concat(h,":").concat(mm," ").concat(a)}if("MMM D, YYYY"===_format)return MMM=this.lang.get("months.".concat(date.getMonth())).substring(0,3),D=date.getDate(),yyyy=date.getFullYear(),"".concat(MMM," ").concat(D,", ").concat(yyyy);if("MMMM yyyy"===_format){var MMMM=this.lang.get("months.".concat(date.getMonth()));return yyyy=date.getFullYear(),"".concat(MMMM," ").concat(yyyy)}if("MMM yyyy"===_format)return MMM=this.lang.get("months.".concat(date.getMonth())).substring(0,3),yyyy=date.getFullYear(),"".concat(MMM," ").concat(yyyy);yyyy=date.getFullYear(),(mm=date.getMonth()+1)<10&&(mm="0".concat(mm));var dd=date.getDate();return dd<10&&(dd="0".concat(dd)),"".concat(yyyy,"-").concat(mm,"-").concat(dd)}},{key:"formatDuration",value:function formatDuration(duration){var match=duration.match(/PT(\d+H)?(\d+M)?(\d+S)?/);match=match.slice(1).map((function(x){return null==x?void 0:x.replace(/\D/,"")}));var hours=padStart.a(parseInt(match[0])||0,2,"0"),minutes=padStart.a(parseInt(match[1])||0,2,"0"),seconds=padStart.a(parseInt(match[2])||0,2,"0");return"00"!==hours?"".concat(hours,":").concat(minutes,":").concat(seconds):"00"!==minutes?"".concat(minutes,":").concat(seconds):"00:".concat(seconds)}},{key:"secondsToHours",value:function secondsToHours(seconds){var precision=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(seconds/3600).toFixed(precision)}},{key:"secondsToMinutes",value:function secondsToMinutes(seconds){var precision=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(seconds/60).toFixed(precision)}},{key:"setLocale",value:function setLocale(locale){return null}},{key:"getLocalDateFromStr",value:function getLocalDateFromStr(str){if(str){var arr=str.split("-");return new Date(arr[0],arr[1]-1,arr[2])}return null}},{key:"dateToUTC",value:function dateToUTC(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds())}},{key:"scaledTimeToUTC",value:function scaledTimeToUTC(scaledTime){var date,timeScale=scaledTime.match(/([A-Z]+):/)[1],timeStr=scaledTime.replace("".concat(timeScale,":"),"");if("BIWK"===timeScale){var _timeStr$split=timeStr.split("-"),_timeStr$split2=slicedToArray_default()(_timeStr$split,2),year=_timeStr$split2[0],week=2*_timeStr$split2[1];date=this.getDateOfISOWeek(year,week)}else if("WK"===timeScale){var _timeStr$split3=timeStr.split("-"),_timeStr$split4=slicedToArray_default()(_timeStr$split3,2),_year=_timeStr$split4[0],_week=_timeStr$split4[1];date=this.getDateOfISOWeek(_year,_week)}else date=new Date(timeStr);return this.dateToUTC(date)}},{key:"getDateOfISOWeek",value:function getDateOfISOWeek(year,week){var simple=new Date(year,0,1+7*(week-1)),dow=simple.getDay(),ISOweekStart=simple;return dow<=4?ISOweekStart.setDate(simple.getDate()-simple.getDay()+1):ISOweekStart.setDate(simple.getDate()+8-simple.getDay()),ISOweekStart}},{key:"getPresetDateRangeOptions",value:function getPresetDateRangeOptions(){return{today:{startDateFn:function startDateFn(){return new Date},endDateFn:function endDateFn(){return new Date}},"7days":{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setDate(startDate.getDate()-8),startDate},endDateFn:function endDateFn(){var endDate=new Date;return endDate.setDate(endDate.getDate()-1),endDate}},"30days":{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setDate(startDate.getDate()-31),startDate},endDateFn:function endDateFn(){var endDate=new Date;return endDate.setDate(endDate.getDate()-1),endDate}},thisMonth:{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setDate(1),startDate},endDateFn:function endDateFn(){return new Date}},lastMonth:{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setMonth(startDate.getMonth()-1),startDate.setDate(1),startDate},endDateFn:function endDateFn(){var endDate=new Date;return endDate.setDate(0),endDate}},last6Months:{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setMonth(startDate.getMonth()-6),startDate.setDate(1),startDate},endDateFn:function endDateFn(){var endDate=new Date;return endDate.setDate(0),endDate}},last12Months:{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setMonth(startDate.getMonth()-12),startDate.setDate(1),startDate},endDateFn:function endDateFn(){var endDate=new Date;return endDate.setDate(0),endDate}},thisYear:{startDateFn:function startDateFn(){var startDate=new Date;return startDate.setMonth(0),startDate.setDate(1),startDate},endDateFn:function endDateFn(){return new Date}}}}}]),DateService}()),services_language=function(){function Language(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_language=_ref.language,cookie=_ref.cookie,files=_ref.files;classCallCheck_default()(this,Language),defineProperty_default()(this,"setLanguage",(function(language){var _this$cookie;return _this.language.next(language),null===(_this$cookie=_this.cookie)||void 0===_this$cookie||_this$cookie.set("language",language),services_date.setLang(_this),services_date.setLocale(language)})),defineProperty_default()(this,"getLanguage",(function(){return _this.language})),defineProperty_default()(this,"getLanguageStr",(function(){return _this.language.getValue()})),defineProperty_default()(this,"getRouteKeyByValue",(function(routeValue){var language=_this.getLanguageStr();return findKey.a(_this.files.paths[language],(function(route){return route===routeValue}))||findKey.a(_this.files.paths.en,(function(route){return route===routeValue}))})),defineProperty_default()(this,"getAllPathsByRouteKey",(function(routeKey){var languages=_this.getAllUrlLanguages();return reduce.a(languages,(function(paths,language){var _this$files$paths$lan,path=null===(_this$files$paths$lan=_this.files.paths[language])||void 0===_this$files$paths$lan?void 0:_this$files$paths$lan[routeKey];return path&&(paths[language]=path),paths}),{})})),defineProperty_default()(this,"get",(function(strKey,param){var _this$files$file$lang,_this$files$file$en;null==param&&(param={});var _param=param,replacements=_param.replacements,file=_param.file,language=_param.language;null==file&&(file="strings"),null==language&&(language=_this.getLanguageStr());var baseResponse=(null===(_this$files$file$lang=_this.files[file][language])||void 0===_this$files$file$lang?void 0:_this$files$file$lang[strKey])||(null===(_this$files$file$en=_this.files[file].en)||void 0===_this$files$file$en?void 0:_this$files$file$en[strKey])||"";if(baseResponse||console.log("missing",file,strKey),"object"===typeof_default()(baseResponse)){var pluralityCount=replacements[baseResponse.pluralityCheck];baseResponse=baseResponse.plurality[pluralityCount]||baseResponse.plurality.other||""}return reduce.a(replacements,(function(str,replace,key){var find=new RegExp("{".concat(key,"}"),"g");return str.replace(find,replace)}),baseResponse)})),this.cookie=cookie,this.files=files,null==_language&&(_language="en"),this.language=new BehaviorSubject.a(_language),this.setLanguage(_language)}return createClass_default()(Language,[{key:"getLanguageByCountry",value:function getLanguageByCountry(country){var _country;return"FR"===(country=null===(_country=country)||void 0===_country?void 0:_country.toUpperCase())?"fr":"en"}},{key:"getAllUrlLanguages",value:function getAllUrlLanguages(){return["en"]}}]),Language}(),toConsumableArray=(__webpack_require__(34),__webpack_require__(13),__webpack_require__(113),__webpack_require__(23),__webpack_require__(266)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),fingerprint=__webpack_require__(668),fingerprint_default=__webpack_require__.n(fingerprint),uuid_by_string_src=__webpack_require__(669),src_default=__webpack_require__.n(uuid_by_string_src),environment=__webpack_require__(83),components_button=__webpack_require__(233),icon=(__webpack_require__(159),__webpack_require__(132)),paths=__webpack_require__(342),context=__webpack_require__(90);"undefined"!=typeof window&&__webpack_require__(1428);function $dialog(props){var onClose=props.onClose,$title=props.$title,$actions=props.$actions,isWide=props.isWide,_props$$content=props.$content,$content=void 0===_props$$content?"":_props$$content,colors=Object(src.d)(context.a).colors,$$ref=Object(src.g)(),$$overlays=Object(src.f)((function(){var _globalThis$document;return{$$overlays:null===globalThis||void 0===globalThis||null===(_globalThis$document=globalThis.document)||void 0===_globalThis$document?void 0:_globalThis$document.getElementById("overlays-portal")}}),[]).$$overlays;function close(){$$ref.current.classList.remove("is-mounted"),setTimeout((function(){return onClose()}),450)}function keyListener(e){"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||(e.preventDefault(),close())}return Object(src.e)((function(){return setTimeout((function(){return $$ref.current.classList.add("is-mounted")}),0),window.addEventListener("keydown",keyListener),function(){return window.removeEventListener("keydown",keyListener)}}),[]),Object(src.c)(Object(src.i)(".z-dialog",{ref:$$ref,className:Object(src.a)({isWide:isWide})},[Object(src.i)(".backdrop",{onclick:close}),Object(src.i)(".dialog",[$title&&Object(src.i)(".title",[Object(src.i)(".text",$title),Object(src.i)(".close",[Object(src.i)(icon.a,{icon:paths.a,color:colors.$bgText26,onclick:close})])]),Object(src.i)(".content",$content),$actions&&Object(src.i)(".actions",$actions)])]),$$overlays)}function $getAppDialog(_ref){var onClose=_ref.onClose,_useContext=Object(src.d)(context.a),config=_useContext.config,lang=_useContext.lang,portal=_useContext.portal,iosAppUrl=config.IOS_APP_URL,googlePlayAppUrl=config.GOOGLE_PLAY_APP_URL;return Object(src.i)(".z-get-app-dialog",[Object(src.i)($dialog,{onClose:onClose,$title:lang.get("getAppDialog.title"),$content:Object(src.i)(".z-get-app-dialog_dialog",[Object(src.i)(".badge.ios",{onclick:function onclick(){return portal.call("browser.openWindow",{url:iosAppUrl,target:"_system"})}}),Object(src.i)(".badge.android",{onclick:function onclick(){return portal.call("browser.openWindow",{url:googlePlayAppUrl,target:"_system"})}}),Object(src.i)(".text",lang.get("getAppDialog.text"))]),$actions:Object(src.i)(components_button.a,{text:lang.get("general.cancel"),onclick:onClose})})])}"undefined"!=typeof window&&__webpack_require__(1427);var portal_Portal,portal_gun_src=__webpack_require__(677),services_portal=((portal_Portal=function(){function Portal(_ref){var _this=this,lang=_ref.lang,_iosAppUrl=_ref.iosAppUrl,_googlePlayAppUrl=_ref.googlePlayAppUrl;classCallCheck_default()(this,Portal),defineProperty_default()(this,"setModels",(function(props){return _this.user=props.user,_this.installOverlay=props.installOverlay,_this.overlay=props.overlay,null})),defineProperty_default()(this,"call",(function(){for(var _this$portal,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return"undefined"==typeof window||null===window?console.log("Portal called server-side"):(_this$portal=_this.portal).call.apply(_this$portal,toConsumableArray_default()(Array.from(args||[]))).catch((function(err){return console.log("missing portal call",args),"Method not found"!==err.message&&console.log(err),null}))})),defineProperty_default()(this,"callWithError",(function(){var _this$portal2;if("undefined"==typeof window||null===window)return console.log("Portal called server-side");for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this$portal2=_this.portal).call.apply(_this$portal2,toConsumableArray_default()(Array.from(args||[])))})),defineProperty_default()(this,"listen",(function(){if("undefined"==typeof window||null===window)throw new Error("Portal called server-side");return _this.portal.listen(),_this.portal.on("auth.getStatus",_this.authGetStatus),_this.portal.on("share.any",_this.shareAny),_this.portal.on("env.getPlatform",_this.getPlatform),_this.portal.on("app.install",_this.appInstall),_this.portal.on("app.rate",_this.appRate),_this.portal.on("app.getDeviceId",_this.appGetDeviceId),_this.portal.on("app.onResume",_this.appOnResume),_this.portal.on("deepLink.onRoute",_this.deepLinkOnRoute),_this.portal.on("permissions.check",_this.permissionsCheck),_this.portal.on("permissions.request",_this.permissionsRequest),_this.portal.on("top.onData",(function(){return null})),_this.portal.on("top.getData",(function(){return null})),_this.portal.on("push.register",_this.pushRegister),_this.portal.on("twitter.share",_this.twitterShare),_this.portal.on("facebook.share",_this.facebookShare),_this.portal.on("networkInformation.onOnline",_this.networkInformationOnOnline),_this.portal.on("networkInformation.onOffline",_this.networkInformationOnOffline),_this.portal.on("networkInformation.onOnline",_this.networkInformationOnOnline),_this.portal.on("browser.openWindow",(function(_ref2){var url=_ref2.url,target=_ref2.target,options=_ref2.options;return window.open(url,target,options)}))})),defineProperty_default()(this,"authGetStatus",(function(){return _this.model.user.getMe().take(1).toPromise().then((function(user){return{accessToken:user.id,userId:user.id}}))})),defineProperty_default()(this,"shareAny",(function(_ref3){var _globalThis$window,_globalThis$window$ga,text=_ref3.text,imageUrl=_ref3.imageUrl,url=_ref3.url;return null===globalThis||void 0===globalThis||null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window||null===(_globalThis$window$ga=_globalThis$window.ga)||void 0===_globalThis$window$ga||_globalThis$window$ga.call(_globalThis$window,"send","event","share_service","share_any"),navigator.share?navigator.share({title:text,url:url}):_this.call("facebook.share",{text:text,imageUrl:imageUrl,url:url})})),defineProperty_default()(this,"getPlatform",(function(param){null==param&&(param={});var gameKey=param.gameKey,userAgent=navigator.userAgent;switch(!1){case!environment.a.isNativeApp(gameKey,{userAgent:userAgent}):return _this.PLATFORMS.APP;default:return _this.PLATFORMS.WEB}})),defineProperty_default()(this,"appRate",(function(){var _globalThis$window2,_globalThis$window2$g;return null===globalThis||void 0===globalThis||null===(_globalThis$window2=globalThis.window)||void 0===_globalThis$window2||null===(_globalThis$window2$g=_globalThis$window2.ga)||void 0===_globalThis$window2$g||_globalThis$window2$g.call(_globalThis$window2,"send","event","native","rate"),_this.call("browser.openWindow",{url:environment.a.isIos()?_this.iosAppUrl:_this.googlePlayAppUrl,target:"_system"})})),defineProperty_default()(this,"appOnResume",(function(callback){return _this.appResumeHandler&&window.removeEventListener("visibilitychange",_this.appResumeHandler),_this.appResumeHandler=function(){if(!document.hidden)return callback()},window.addEventListener("visibilitychange",_this.appResumeHandler)})),defineProperty_default()(this,"appInstall",(function(){var iosAppUrl=_this.iosAppUrl,googlePlayAppUrl=_this.googlePlayAppUrl;return environment.a.isIos()?_this.call("browser.openWindow",{url:iosAppUrl,target:"_system"}):environment.a.isAndroid()?_this.call("browser.openWindow",{url:googlePlayAppUrl,target:"_system"}):_this.overlay.open(new $getAppDialog({model:{lang:_this.lang,overlay:_this.overlay,portal:_this},onClose:function onClose(){return _this.overlay.close()}}))})),defineProperty_default()(this,"twitterShare",(function(_ref4){var text=_ref4.text;return _this.call("browser.openWindow",{url:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(text)),target:"_system"})})),defineProperty_default()(this,"facebookShare",(function(_ref5){var url=_ref5.url;return _this.call("browser.openWindow",{url:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(url)),target:"_system"})})),defineProperty_default()(this,"handleRouteData",(function(data,_ref6){var _original$additionalD,_original$additionalD2,model=_ref6.model,router=_ref6.router,notificationStream=_ref6.notificationStream;null==data&&(data={});var _original$additionalD3,_original$additionalD4,_original$additionalD5,_data=data,path=_data.path,query=_data.query,_isPush=_data._isPush,_original=_data._original;if(_data._isDeepLink)return router.goPath(path);if(path||"string"!=typeof(null==_original||null===(_original$additionalD=_original.additionalData)||void 0===_original$additionalD?void 0:_original$additionalD.path)||(path=JSON.parse(_original.additionalData.path)),null!=(null==query?void 0:query.accessToken)&&model.auth.setAccessToken(query.accessToken),_isPush&&null!=_original&&null!==(_original$additionalD2=_original.additionalData)&&void 0!==_original$additionalD2&&_original$additionalD2.foreground)model.exoid.invalidateAll(),environment.a.isIos()&&environment.a.isNativeApp()&&_this.call("push.setBadgeNumber",{number:0}),notificationStream.next({title:(null==_original||null===(_original$additionalD3=_original.additionalData)||void 0===_original$additionalD3?void 0:_original$additionalD3.title)||_original.title,message:(null==_original||null===(_original$additionalD4=_original.additionalData)||void 0===_original$additionalD4?void 0:_original$additionalD4.message)||_original.message,type:null==_original||null===(_original$additionalD5=_original.additionalData)||void 0===_original$additionalD5?void 0:_original$additionalD5.type,data:{path:path}});else if(null!=path){var _globalThis$window3,_globalThis$window3$g,_path;null===globalThis||void 0===globalThis||null===(_globalThis$window3=globalThis.window)||void 0===_globalThis$window3||null===(_globalThis$window3$g=_globalThis$window3.ga)||void 0===_globalThis$window3$g||_globalThis$window3$g.call(_globalThis$window3,"send","event","hit_from_share","hit",JSON.stringify(path)),null!==(_path=path)&&void 0!==_path&&_path.key?router.go(path.key,path.params):"string"==typeof path&&router.goPath(path)}if(data.logEvent){var _globalThis$window4,_globalThis$window4$g,_data$logEvent=data.logEvent,category=_data$logEvent.category,action=_data$logEvent.action,label=_data$logEvent.label;return null===globalThis||void 0===globalThis||null===(_globalThis$window4=globalThis.window)||void 0===_globalThis$window4||null===(_globalThis$window4$g=_globalThis$window4.ga)||void 0===_globalThis$window4$g?void 0:_globalThis$window4$g.call(_globalThis$window4,"send","event",category,action,label)}})),this.lang=lang,this.iosAppUrl=_iosAppUrl,this.googlePlayAppUrl=_googlePlayAppUrl,"undefined"!=typeof window&&null!==window&&(this.portal=new portal_gun_src.a,this.appResumeHandler=null)}return createClass_default()(Portal,null,[{key:"initClass",value:function initClass(){this.prototype.PLATFORMS={APP:"app",WEB:"web"}}}]),createClass_default()(Portal,[{key:"isChrome",value:function isChrome(){return navigator.userAgent.match(/chrome/i)}},{key:"appGetDeviceId",value:function appGetDeviceId(){return src_default()("".concat((new fingerprint_default.a).get()))}},{key:"permissionsCheck",value:function permissionsCheck(_ref7){var permissions=_ref7.permissions;return console.log("webcheck"),Promise.resolve(reduce.a(permissions,(function(obj,permission){return obj[permission]=!0,obj}),{}))}},{key:"permissionsRequest",value:function permissionsRequest(_ref8){return _ref8.permissions,console.log("webreq"),Promise.resolve(!0)}},{key:"deepLinkOnRoute",value:function deepLinkOnRoute(fn){window.onRoute=function(path){return fn({path:path.replace("browser://","/")})}}},{key:"pushRegister",value:function pushRegister(){return null}},{key:"networkInformationOnOnline",value:function networkInformationOnOnline(fn){return window.addEventListener("online",fn)}},{key:"networkInformationOnOffline",value:function networkInformationOnOffline(fn){return window.addEventListener("offline",fn)}}]),Portal}()).initClass(),portal_Portal=portal_Portal),forEach=(__webpack_require__(114),__webpack_require__(18),__webpack_require__(1437),__webpack_require__(1479)),defaults=__webpack_require__(1466),isEmpty=__webpack_require__(1456),last=__webpack_require__(675),qs_lite=__webpack_require__(337),qs_lite_default=__webpack_require__.n(qs_lite);var services_router=function RouterService(_ref){var _this=this,router=_ref.router,_model=_ref.model,cookie=_ref.cookie,lang=_ref.lang,portal=_ref.portal,host=_ref.host;classCallCheck_default()(this,RouterService),defineProperty_default()(this,"goPath",(function(path){var _globalThis$window,_this$router,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ignoreHistory=options.ignoreHistory,reset=options.reset,keepPreserved=options.keepPreserved,skipBlur=options.skipBlur;(_this.preservedRequest&&!keepPreserved&&_this.removeOverlay(),environment.a.isIos()&&!skipBlur&&document.activeElement.blur(),ignoreHistory)||_this.history.push(path||(null===globalThis||void 0===globalThis||null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window?void 0:_globalThis$window.location.pathname));if(("/"===_this.history[0]||_this.history[0]===_this.get("home")||reset)&&(_this.history=[path]),path)return environment.a.isNativeApp()&&_this.cookie&&_this.cookie.set("routerLastPath",path),null===(_this$router=_this.router)||void 0===_this$router?void 0:_this$router.go(path)})),defineProperty_default()(this,"go",(function(routeKey,replacements){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=_this.get(routeKey,replacements,options);return _this.goPath(path,options)})),defineProperty_default()(this,"get",(function(routeKey){var _route,replacements=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},route=_this.lang.get(routeKey,{file:"paths",language:null==options?void 0:options.language}),isOrganizationPage=-1!==(null===(_route=route)||void 0===_route?void 0:_route.indexOf(":orgSlug")),orgSlug=replacements.orgSlug||_this.orgSlug;isOrganizationPage&&!orgSlug&&(replacements.orgSlug=_this.cookie.get("orgSlug"));var isCustomDomain=["data.upchieve.org","numberwang.hackclub.com"].includes(_this.getHost());return isCustomDomain&&((route=route.replace("/org/:orgSlug",""))||(route="/")),forEach.a(replacements,(function(value,key){route=route.replace(":".concat(key),value)})),null!=options&&options.qs&&(route="".concat(route,"?").concat(qs_lite_default.a.stringify(options.qs))),route})),defineProperty_default()(this,"removeOverlay",(function(){_this.preservedRequest=null,_this.overlayListener&&(window.removeEventListener("popstate",_this.overlayOnBack),_this.overlayListener=null)})),defineProperty_default()(this,"overlayOnBack",(function(){return _this.removeOverlay()})),defineProperty_default()(this,"goOverlay",(function(routeKey,replacements,options){return null==options&&(options={}),_this.overlayListener=window.addEventListener("popstate",_this.overlayOnBack),_this.requestsStream.take(1).subscribe((function(request){return _this.preservedRequest=request,_this.go(routeKey,replacements,defaults.a({keepPreserved:!0},options))}))})),defineProperty_default()(this,"setOrgSlug",(function(orgSlug){_this.orgSlug=orgSlug})),defineProperty_default()(this,"setRequests",(function(requestsStream){_this.requestsStream=requestsStream})),defineProperty_default()(this,"openLink",(function(url,target){var isAbsoluteUrl=0===(null==url?void 0:url.indexOf("mailto:"))||(null==url?void 0:url.match(/^(?:[a-z-]+:)?\/\//i)),webAppRegex=new RegExp("https?://(".concat(_this.host,")"),"i"),isWebApp=null==url?void 0:url.match(webAppRegex),isNative=environment.a.isNativeApp();if(!isAbsoluteUrl||isWebApp){var path=isWebApp?url.replace(webAppRegex,""):url;return _this.goPath(path)}return _this.portal.call("browser.openWindow",{url:url,target:target||isNative?"_system":"_blank"})})),defineProperty_default()(this,"setModel",(function(model){_this.model=model})),defineProperty_default()(this,"back",(function(param){null==param&&(param={});var _param=param,fromNative=_param.fromNative,fallbackPath=_param.fallbackPath;if(_this.preservedRequest)_this.removeOverlay();else{var overlays=_this.model.overlay.get();isEmpty.a(overlays)||_this.model.overlay.close()}if(_this.onBackFn){var fn=_this.onBackFn();return _this.onBack(null),fn}return _this.model.drawer.isOpen().getValue()?_this.model.drawer.close():fromNative&&last.a(_this.history)===_this.get("home")?_this.portal.call("app.exit"):_this.history.length>1&&window.history.length>0?(window.history.back(),_this.history.pop()):fallbackPath?_this.goPath(fallbackPath,{reset:!0}):_this.goPath("/")})),defineProperty_default()(this,"onBack",(function(onBackFn){_this.onBackFn=onBackFn})),defineProperty_default()(this,"openInAppBrowser",(function(addon,param){var _addon$data,_addon$data2,language;null==param&&(param={});var _param2=param,colors=_param2.colors,replacements=_param2.replacements;language=isEmpty.a(null===(_addon$data=addon.data)||void 0===_addon$data?void 0:_addon$data.translatedLanguages)||-1!==(null===(_addon$data2=addon.data)||void 0===_addon$data2?void 0:_addon$data2.translatedLanguages.indexOf(_this.lang.getLanguageStr()))?_this.lang.getLanguageStr():"en",null==replacements&&(replacements={}),replacements=defaults.a(replacements,{lang:language});var vars=addon.url.match(/\{[a-zA-Z0-9]+\}/g),url=reduce.a(vars,(function(str,variable){var key=variable.replace(/\{|\}/g,"");return str.replace(variable,replacements[key]||"")}),addon.url);return _this.portal.call("browser.openWindow",{url:url,target:"_blank",options:{statusbar:{color:colors.getRawColor(colors.$primaryMain)},toolbar:{height:56,color:colors.getRawColor(colors.$bgColor)},title:{color:colors.getRawColor(colors.$bgText),staticText:_this.lang.get("".concat(addon.key,".title"),{file:"addons"})},closeButton:{image:"close",align:"left",event:"closePressed"}}},(function(data){return _this.portal.portal.onMessageInAppBrowserWindow(data)}))})),defineProperty_default()(this,"getStream",(function(){return _this.router.getStream()})),defineProperty_default()(this,"getHost",(function(){return _this.host})),defineProperty_default()(this,"getSubdomain",(function(){var _this$host,hostParts=null===(_this$host=_this.host)||void 0===_this$host?void 0:_this$host.split("."),isStaging="tech-by-staging"===hostParts[0];if(3===hostParts.length&&!isStaging)return hostParts[0]})),defineProperty_default()(this,"link",(function(node){return node.props.onclick=function ev(fn){return function(e){return fn(e,this)}}((function(e,$$el){if(function isSimpleClick(e){return!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)}(e))return e.preventDefault(),_this.openLink(node.props.href,node.props.target)})),node})),defineProperty_default()(this,"linkIfHref",(function(node){return node.props.href&&(node.type="a",_this.link(node)),node})),this.router=router,this.model=_model,this.cookie=cookie,this.lang=lang,this.portal=portal,this.host=host,this.history="undefined"!=typeof window?[window.location.pathname]:[],this.requestsStream=null,this.onBackFn=null,this.orgSlug=null},uuid=__webpack_require__(137),uuid_default=__webpack_require__.n(uuid),window_Window=function Window(_ref){var _globalThis$window,_this=this,cookie=_ref.cookie,userAgent=_ref.userAgent;classCallCheck_default()(this,Window),defineProperty_default()(this,"updateSize",(function(ignoreBreakpoint){var oldSize=_this.size.getValue(),newSize=_this.getSizeVal(),oldBreakpoint=_this.breakpoint.getValue(),newBreakpoint=_this.getBreakpointVal();_this.isPaused||(oldSize!==newSize&&_this.size.next(newSize),oldBreakpoint!==newBreakpoint&&_this.breakpoint.next(newBreakpoint))})),defineProperty_default()(this,"getSizeVal",(function(){var height,width,resolution=_this.cookie.get("resolution");if("undefined"!=typeof window)width=window.innerWidth,height=window.innerHeight,_this.cookie.set("resolution","".concat(width,"x").concat(height));else if(resolution){var arr=resolution.split("x");width=parseInt(arr[0]),height=parseInt(arr[1])}else width=void 0,height=732;return{contentWidth:width>=768?Math.min(1280,width-72):width,width:width,height:height,appBarHeight:width>=768?64:56}})),defineProperty_default()(this,"getBreakpointVal",(function(){var width=_this.getSizeVal().width;return width>=1280?"desktop":width>=768?"tablet":"mobile"})),defineProperty_default()(this,"getDrawerWidthVal",(function(){var width=_this.getSizeVal().width;return Math.min(width-56,72)})),defineProperty_default()(this,"getAppBarHeightVal",(function(){return _this.getSizeVal().width>=768?64:56})),defineProperty_default()(this,"getUserAgent",(function(){return _this.userAgent})),defineProperty_default()(this,"getSize",(function(){return _this.size})),defineProperty_default()(this,"getDrawerWidth",(function(){return _this.drawerWidth})),defineProperty_default()(this,"getBreakpoint",(function(){return _this.breakpoint})),defineProperty_default()(this,"getAppBarHeight",(function(){return _this.appBarHeight})),defineProperty_default()(this,"getTransformProperty",(function(){if("undefined"!=typeof window){var _elementStyle=document.createElement("div").style,_vendor=function(){for(var vendors=["t","webkitT","MozT","msT","OT"],i=0,l=vendors.length;i<l;){if(vendors[i]+"ransform"in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);i+=1}return!1}();return function _prefixStyle(style){return!1!==_vendor&&(""===_vendor?style:_vendor+style.charAt(0).toUpperCase()+style.substr(1))}("transform")}return"transform"})),defineProperty_default()(this,"pauseResizing",(function(){_this.isPaused=!0})),defineProperty_default()(this,"resumeResizing",(function(){_this.isPaused=!1,_this.updateSize()})),defineProperty_default()(this,"resume",(function(){forEach.a(_this.resumeFns,(function(fn){return fn()}))})),defineProperty_default()(this,"onResume",(function(fn){var id=uuid_default.a.v4();return _this.resumeFns[id]=fn,{unsubscribe:function unsubscribe(){delete _this.resumeFns[id]}}})),this.cookie=cookie,this.userAgent=userAgent,this.isPaused=!1,this.size=new BehaviorSubject.a(this.getSizeVal()),this.breakpoint=new BehaviorSubject.a(this.getBreakpointVal()),this.drawerWidth=new BehaviorSubject.a(this.getDrawerWidthVal()),this.appBarHeight=new BehaviorSubject.a(this.getAppBarHeightVal()),this.resumeFns={},null===globalThis||void 0===globalThis||null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window||_globalThis$window.addEventListener("resize",this.updateSize)},src_context=context.a,mapValues=__webpack_require__(1454),uniq=__webpack_require__(1473),src_config=__webpack_require__(84),lang_files={strings:null,paths:null},src_lang=new(function(){function Language(){var _this=this;classCallCheck_default()(this,Language),defineProperty_default()(this,"getJsonString",(function(language){lang_files=_this.getLangFiles(language);var str=JSON.stringify(lang_files);return"if(typeof window !== 'undefined'){window.languageStrings=".concat(str,";} ")}))}return createClass_default()(Language,[{key:"getLangFiles",value:function getLangFiles(language){return mapValues.a(lang_files,(function(val,file){var languages;return languages=language&&"paths"!==file?uniq.a([language,"en"]):src_config.a.LANGUAGES,reduce.a(languages,(function(obj,lang){try{obj[lang]=__webpack_require__(1417)("./".concat(lang,"/").concat(file,"_").concat(lang,".json"))}catch(error){console.log(error)}if("strings"===file){var sharedLang;try{sharedLang=__webpack_require__(1420)("./".concat(lang,"/").concat(file,"_").concat(lang,".json"))}catch(error){console.log(error)}obj[lang]=defaults.a(obj[lang],sharedLang)}return obj}),{})}))}}]),Language}()),inherits=(__webpack_require__(305),__webpack_require__(670)),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(671),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(469),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),regenerator=__webpack_require__(42),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(82),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),exoid_src=__webpack_require__(676),map=__webpack_require__(93),zipWith=__webpack_require__(1476),keys=__webpack_require__(76),differenceWith=__webpack_require__(1481),isEqual=__webpack_require__(1470),pick=__webpack_require__(1474),merge=__webpack_require__(40),isPlainObject=__webpack_require__(465),combineLatest=__webpack_require__(1475),take=__webpack_require__(1469),operators_map=__webpack_require__(335),takeRight=(__webpack_require__(80),__webpack_require__(9),__webpack_require__(1468)),defer=__webpack_require__(1465),switchMap=__webpack_require__(672),publishReplay=__webpack_require__(1478),refCount=__webpack_require__(674),URL_REGEX_STR="(\\bhttps?://[-A-Z0-9+&@#/%?=~_|!:,.;]*[A-Z0-9+&@#/%=~_|])",shared_config={ENV:"development",ENVS:{DEV:"development",PROD:"production",TEST:"test"},URL_REGEX_STR:URL_REGEX_STR,URL_REGEX:new RegExp(URL_REGEX_STR,"gi"),LOCAL_IMAGE_REGEX_STR:"(\\!\\[(.*?)\\]\\(local://(.*?) \\=([0-9.]+)x([0-9.]+)\\))",IMAGE_REGEX_BASE_STR:"(\\!\\[(?:.*?)\\]\\((?:.*?)\\))",IMAGE_REGEX_STR:"(\\!\\[(.*?)\\]\\((.*?)\\=([0-9.]+)x([0-9.]+)\\))",IMAGE_REGEX:new RegExp("(\\!\\[(.*?)\\]\\((.*?)\\=([0-9.]+)x([0-9.]+)\\))","gi"),MENTION_REGEX:new RegExp("\\@[a-zA-Z0-9_-]+","gi"),YOUTUBE_ID_REGEX:new RegExp('(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^"&?\\/ ]{11})',"i"),IMGUR_ID_REGEX:/https?:\/\/(?:i\.)?imgur\.com(?:\/a)?\/(.*?)(?:[.#/].*|$)/i},auth_Auth=function Auth(_options){var _this=this;classCallCheck_default()(this,Auth),defineProperty_default()(this,"getMe",(function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},accessToken=_ref.accessToken,fromCache=_ref.fromCache,req={query:"query UserGetMe { me { id, email } }"};return fromCache?_this.exoid.getCached("graphql",req).then((function(res){var _res$data;return null==res||null===(_res$data=res.data)||void 0===_res$data?void 0:_res$data.me})):accessToken?_this.exoid.stream("graphql",req).pipe(operators_map.a((function(_ref2){return _ref2.data.me}))):_this.stream(req).pipe(operators_map.a((function(_ref3){return _ref3.data.me})))})),defineProperty_default()(this,"loginAnon",asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var _yield$_this$exoid$ca,data;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.exoid.call("graphql",{query:"\n        mutation LoginAnon {\n          userLoginAnon {\n            accessToken\n          }\n        }"});case 2:return _yield$_this$exoid$ca=_context.sent,data=_yield$_this$exoid$ca.data,console.log("data",data),_context.abrupt("return",null==data?void 0:data.userLoginAnon.accessToken);case 6:case"end":return _context.stop()}}),_callee)})))),defineProperty_default()(this,"validateAccessToken",function(){var _ref5=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(accessToken){var me;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,_this.getMe({fromCache:!0});case 3:if(me=_context2.sent){_context2.next=8;break}return _context2.next=7,_this.getMe({accessToken:accessToken}).pipe(take.a(1)).toPromise();case 7:me=_context2.sent;case 8:if(me){_context2.next=11;break}throw console.log("user",me),new Error("no user for accesstoken");case 11:_context2.next=17;break;case 13:return _context2.prev=13,_context2.t0=_context2.catch(0),console.log("caught err, logging in anon",_context2.t0),_context2.abrupt("return",_this.loginAnon());case 17:case"end":return _context2.stop()}}),_callee2,null,[[0,13]])})));return function(_x){return _ref5.apply(this,arguments)}}()),defineProperty_default()(this,"setAccessToken",(function(accessToken){var domain=shared_config.ENV===shared_config.ENVS.DEV?shared_config.HOST:-1!==_this.host.indexOf("techby.org")?takeRight.a(_this.host.split("."),2).join("."):_this.host;return _this.cookie.set(_this.authCookie,accessToken,{host:domain})})),defineProperty_default()(this,"logout",asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(){var accessToken;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _this.setAccessToken(""),_context3.next=3,_this.loginAnon();case 3:return accessToken=_context3.sent,_this.setAccessToken(accessToken),_context3.abrupt("return",_this.exoid.invalidateAll());case 6:case"end":return _context3.stop()}}),_callee3)})))),defineProperty_default()(this,"join",function(){var _ref8=asyncToGenerator_default()(regenerator_default.a.mark((function _callee4(_ref7){var name,email,password,inviteTokenStr,_yield$_this$exoid$ca2,data;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return name=_ref7.name,email=_ref7.email,password=_ref7.password,inviteTokenStr=_ref7.inviteTokenStr,_context4.next=3,_this.exoid.call("graphql",{query:"\n        mutation UserJoin($name: String!, $email: String!, $password: String!, $inviteTokenStr: String) {\n          userJoin(name: $name, email: $email, password: $password, inviteTokenStr: $inviteTokenStr) {\n            accessToken\n          }\n        }",variables:{name:name,email:email,password:password,inviteTokenStr:inviteTokenStr}});case 3:return _yield$_this$exoid$ca2=_context4.sent,data=_yield$_this$exoid$ca2.data,_context4.abrupt("return",_this.afterLogin(data.userJoin));case 6:case"end":return _context4.stop()}}),_callee4)})));return function(_x2){return _ref8.apply(this,arguments)}}()),defineProperty_default()(this,"resetPassword",(function(_ref9){_ref9.email;return console.log("FIXME"),Promise.resolve(null)})),defineProperty_default()(this,"afterLogin",(function(r){var accessToken=r.accessToken;console.log("r",r),console.log("afterLogin",accessToken),_this.setAccessToken(accessToken),_this.exoid.invalidateAll();var pushToken=_this.pushToken.getValue();if(pushToken)return null==pushToken&&(pushToken="none"),_this.portal.call("app.getDeviceId").catch((function(){return null})).then((function(deviceId){return console.log("FIXME: tokens")})).catch((function(){return null}))})),defineProperty_default()(this,"login",function(){var _ref11=asyncToGenerator_default()(regenerator_default.a.mark((function _callee5(_ref10){var email,password,_yield$_this$exoid$ca3,data;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return email=_ref10.email,password=_ref10.password,_context5.next=3,_this.exoid.call("graphql",{query:"\n        mutation UserLoginEmail($email: String!, $password: String!) {\n          userLoginEmail(email: $email, password: $password) {\n            accessToken\n          }\n        }",variables:{email:email,password:password}});case 3:return _yield$_this$exoid$ca3=_context5.sent,data=_yield$_this$exoid$ca3.data,_context5.abrupt("return",_this.afterLogin(data.userLoginEmail));case 6:case"end":return _context5.stop()}}),_callee5)})));return function(_x3){return _ref11.apply(this,arguments)}}()),defineProperty_default()(this,"loginLink",function(){var _ref13=asyncToGenerator_default()(regenerator_default.a.mark((function _callee6(_ref12){var userId,tokenStr,_yield$_this$exoid$ca4,data;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return userId=_ref12.userId,tokenStr=_ref12.tokenStr,_context6.next=3,_this.exoid.call("graphql",{query:"\n        mutation UserLoginLink($userId: ID!, $tokenStr: String!) {\n          userLoginLink(userId: $userId, tokenStr: $tokenStr) {\n            accessToken\n          }\n        }",variables:{userId:userId,tokenStr:tokenStr}});case 3:return _yield$_this$exoid$ca4=_context6.sent,data=_yield$_this$exoid$ca4.data,_context6.abrupt("return",_this.afterLogin(data.userLoginLink));case 6:case"end":return _context6.stop()}}),_callee6)})));return function(_x4){return _ref13.apply(this,arguments)}}()),defineProperty_default()(this,"stream",(function(_ref14){var query=_ref14.query,variables=_ref14.variables,pull=_ref14.pull,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return options=pick.a(options,["isErrorable","clientChangesStream","ignoreCache","initialSortFn","isStreamed","limit"]),combineLatest.a(_this.waitValidAuthCookie,_this.orgSlugStream).pipe(switchMap.a((function(_ref15){var _ref16=slicedToArray_default()(_ref15,2),stream=(_ref16[0],_ref16[1],_this.exoid.stream("graphql",{query:query,variables:variables},options));return pull?stream.pipe(operators_map.a((function(_ref17){return _ref17.data[pull]}))):stream})))})),defineProperty_default()(this,"call",function(){var _ref19=asyncToGenerator_default()(regenerator_default.a.mark((function _callee7(_ref18){var query,variables,pull,options,invalidateAll,invalidateSingle,additionalDataStream,response,_args7=arguments;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return query=_ref18.query,variables=_ref18.variables,pull=_ref18.pull,options=_args7.length>1&&void 0!==_args7[1]?_args7[1]:{},invalidateAll=options.invalidateAll,invalidateSingle=options.invalidateSingle,additionalDataStream=options.additionalDataStream,_context7.next=5,_this.waitValidAuthCookie.pipe(take.a(1)).toPromise();case 5:return _context7.next=7,_this.orgSlugStream.pipe(take.a(1)).toPromise();case 7:return _context7.next=9,_this.exoid.call("graphql",{query:query,variables:variables},{additionalDataStream:additionalDataStream});case 9:if(response=_context7.sent,invalidateAll?(console.log("Invalidating all"),_this.exoid.invalidateAll()):invalidateSingle&&(console.log("Invalidating single",invalidateSingle),_this.exoid.invalidate(invalidateSingle.path,invalidateSingle.body)),!pull){_context7.next=15;break}return _context7.abrupt("return",response.data[pull]);case 15:return _context7.abrupt("return",response);case 16:case"end":return _context7.stop()}}),_callee7)})));return function(_x5){return _ref19.apply(this,arguments)}}()),defineProperty_default()(this,"setOrgSlugStream",(function(orgSlugStream){_this.orgSlugStream=orgSlugStream})),this.exoid=_options.exoid,this.pushToken=_options.pushToken,this.lang=_options.lang,this.cookie=_options.cookie,this.userAgent=_options.userAgent,this.portal=_options.portal,this.authCookie=_options.authCookie,this.host=_options.host,this.waitValidAuthCookie=defer.a(asyncToGenerator_default()(regenerator_default.a.mark((function _callee8(){var accessToken,newAccessToken;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!(accessToken=_this.cookie.get(_this.authCookie))){_context8.next=7;break}return _context8.next=4,_this.validateAccessToken(accessToken);case 4:newAccessToken=_context8.sent,_context8.next=10;break;case 7:return _context8.next=9,_this.loginAnon();case 9:newAccessToken=_context8.sent;case 10:if(!newAccessToken){_context8.next=15;break}if(_this.setAccessToken(newAccessToken),globalThis.window){_context8.next=15;break}return _context8.next=15,_this.getMe({accessToken:newAccessToken}).pipe(take.a(1)).toPromise();case 15:return _context8.abrupt("return",null);case 16:case"end":return _context8.stop()}}),_callee8)})))).pipe(publishReplay.a(1),refCount.a())},drawer_Drawer=function Drawer(){var _this=this;classCallCheck_default()(this,Drawer),defineProperty_default()(this,"isOpen",(function(){return _this._isOpen})),defineProperty_default()(this,"open",(function(){_this._isOpen.next(!0),null!==globalThis&&void 0!==globalThis&&globalThis.window&&(globalThis.window.document.body.style.overflow="hidden")})),defineProperty_default()(this,"close",(function(){_this._isOpen.next(!1),null!==globalThis&&void 0!==globalThis&&globalThis.window&&(globalThis.window.document.body.style.overflow="auto")})),this._isOpen=new BehaviorSubject.a(!1)};__webpack_require__(124);function hashFn(s){return s?s.split("").reduce((function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a}),0):"none"}var image_ImageModel=function ImageModel(){var _this=this;classCallCheck_default()(this,ImageModel),defineProperty_default()(this,"load",(function(url){var hash=hashFn(url);return!0===_this.loadedImages[hash]?Promise.resolve(null):_this.loadedImages[hash]?_this.loadedImages[hash]:void(_this.loadedImages[hash]=new Promise((function(resolve,reject){var preloadImage=new Image;return preloadImage.src=url,preloadImage.addEventListener("load",(function(){return _this.loadedImages[hash]=!0,resolve()}))})))})),defineProperty_default()(this,"isLoaded",(function(url){return"undefined"!=typeof window&&!0===_this.loadedImages[hashFn(url)]})),defineProperty_default()(this,"getHash",(function(url){return hashFn(url)})),defineProperty_default()(this,"isLoadedByHash",(function(hash){return"undefined"!=typeof window&&!0===_this.loadedImages[hash]})),defineProperty_default()(this,"getSrcByPrefix",(function(prefix,param){null==param&&(param={});var _param=param,size=_param.size,cacheBust=_param.cacheBust;if(null==size&&(size="small"),!prefix)return"";var src="".concat("","/").concat(prefix,".").concat(size,".jpg");return cacheBust&&(src+="?".concat(cacheBust)),src})),this.loadedImages={}},login_link_LoginLink=function LoginLink(_ref){var _this=this,auth=_ref.auth;classCallCheck_default()(this,LoginLink),defineProperty_default()(this,"getByUserIdAndToken",(function(userId,tokenStr){return _this.auth.stream({query:"\n        query LoginLinkGetByUserIdAndToken($userId: ID!, tokenStr: String!) {\n          loginLinkGetByUserIdAndToken(userId: $userId, tokenStr: $tokenStr) {\n            { loginLink { data } }\n          }\n        }",variables:{userId:userId,tokenStr:tokenStr}})})),this.auth=auth},offline_data_OfflineDataModel=function OfflineDataModel(_ref){var _this=this,exoid=_ref.exoid,portal=_ref.portal,lang=_ref.lang,statusBar=_ref.statusBar;classCallCheck_default()(this,OfflineDataModel),defineProperty_default()(this,"record",(function(){return _this.isRecording=!0,_this.statusBar.open({text:_this.lang.get("status.recordingData"),onclick:_this.save}),_this.exoid.invalidateAll(),setTimeout((function(){return _this.exoid.disableInvalidation(),_this.exoid.getCacheStream().subscribe((function(cache){return console.log(cache)})),_this.portal.call("cache.startRecording")}),0)})),defineProperty_default()(this,"save",(function(){return _this.isRecording=!1,_this.exoid.getCacheStream().take(1).subscribe((function(cache){return _this.exoid.enableInvalidation(),null!==globalThis&&void 0!==globalThis&&globalThis.localStorage&&(localStorage.offlineCache=JSON.stringify(cache)),_this.statusBar.close()})),_this.portal.call("cache.stopRecording")})),this.exoid=exoid,this.portal=portal,this.lang=lang,this.statusBar=statusBar,this.isRecording=!1},org_Org=function Org(_ref){var _this=this,auth=_ref.auth;classCallCheck_default()(this,Org),defineProperty_default()(this,"getMe",(function(){return _this.auth.stream({query:"\n        query OrgByMe {\n          org {\n            id, slug, name, domain, orgUser { id, userId, orgId, roleIds, roles { nodes { name, permissions } } }\n          }\n        }",pull:"org"})})),defineProperty_default()(this,"getById",(function(id){return _this.auth.stream({query:"\n        query OrgById($id: ID!) {\n          org(id: $id) {\n            id, slug, orgUser { id, userId, orgId, roleIds, roles { nodes { name, permissions } } }\n          }\n        }",variables:{id:id},pull:"org"})})),defineProperty_default()(this,"getBySlug",(function(slug){return _this.auth.stream({query:"\n        query OrgBySlug($slug: String!) {\n          org(slug: $slug) {\n            id, slug, orgUser { id, userId, orgId, roleIds, roles { nodes { name, permissions } } }\n          }\n        }",variables:{slug:slug},pull:"org"})})),this.auth=auth},every=__webpack_require__(1477),find=__webpack_require__(1483),filter=__webpack_require__(1482),DEFAULT_PERMISSIONS=[],org_user_OrgUser=function OrgUser(_ref){var _this=this,auth=_ref.auth;classCallCheck_default()(this,OrgUser),defineProperty_default()(this,"getMeByOrgId",(function(orgId){return _this.auth.stream({query:"\n        query OrgUserMeByOrgId($orgId: ID!) {\n          orgUser(orgId: $orgId) {\n            id\n            orgId\n            roleIds\n            roles { nodes { id, name, permissions } }\n            partners { nodes { name } }\n          }\n        }\n",variables:{orgId:orgId},pull:"orgUser"})})),defineProperty_default()(this,"getAll",(function(){return _this.auth.stream({query:"\n        query OrgUserGetAll {\n          orgUsers {\n            nodes {\n              id\n              orgId\n              user { id, email, name }\n              roleIds\n              roles { nodes { id, name } }\n              partnerIds\n              partners { nodes { name } }\n            }\n          }\n        }\n",pull:"orgUsers"})})),defineProperty_default()(this,"hasPermission",(function(_ref2){var _orgUser$roles,orgUser=_ref2.orgUser,permissions=(_ref2.me,_ref2.permissions),sourceType=_ref2.sourceType,sourceId=_ref2.sourceId,roles=_ref2.roles;return roles=roles||(null==orgUser||null===(_orgUser$roles=orgUser.roles)||void 0===_orgUser$roles?void 0:_orgUser$roles.nodes),every.a(permissions,(function(permission){return find.a(roles,(function(role){var _$find,customPermissions=sourceId&&filter.a(role.permissions,{sourceType:sourceType,sourceId:sourceId}),globalPermissions=filter.a(role.permissions,{sourceType:"global-public"});return permissions=[].concat(customPermissions,globalPermissions,DEFAULT_PERMISSIONS),null===(_$find=find.a(permissions,{permission:permission}))||void 0===_$find?void 0:_$find.value}))}))})),defineProperty_default()(this,"upsert",(function(_ref3){var id=_ref3.id,partnerIds=_ref3.partnerIds,roleIds=_ref3.roleIds;return _this.auth.call({query:"\n        mutation OrgUserUpsert(\n          $id: ID\n          $partnerIds: [ID]\n          $roleIds: [ID]\n        ) {\n          orgUserUpsert(id: $id, partnerIds: $partnerIds, roleIds: $roleIds) {\n            roleIds\n          }\n        }\n",variables:{id:id,partnerIds:partnerIds,roleIds:roleIds},pull:"orgUser"},{invalidateAll:!0})})),this.auth=auth},org_user_invite_OrgUserInvite=function OrgUserInvite(_ref){var _this=this,auth=_ref.auth;classCallCheck_default()(this,OrgUserInvite),defineProperty_default()(this,"getAll",(function(){return _this.auth.stream({query:"\n        query OrgUserInviteGetAll {\n          orgUserInvites {\n            nodes {\n              id\n              name\n              email\n              orgId\n              roleIds\n              roles { nodes { id, name } }\n              partnerIds\n              partners { nodes { name } }\n            }\n          }\n        }\n",pull:"orgUserInvites"})})),defineProperty_default()(this,"getByTokenStr",(function(tokenStr){return console.log("get by",tokenStr),_this.auth.stream({query:"\n        query OrgUserInviteGetByTokenStr($tokenStr: String) {\n          orgUserInvite(tokenStr: $tokenStr) { id }\n        }\n",variables:{tokenStr:tokenStr},pull:"orgUserInvite"})})),defineProperty_default()(this,"upsert",(function(_ref2){var id=_ref2.id,email=_ref2.email,name=_ref2.name,partnerIds=_ref2.partnerIds,roleIds=_ref2.roleIds;return _this.auth.call({query:"\n        mutation OrgUserInviteUpsert(\n          $id: ID\n          $email: String\n          $name: String\n          $partnerIds: [ID]\n          $roleIds: [ID]\n        ) {\n          orgUserInviteUpsert(id: $id, email: $email, name: $name, partnerIds: $partnerIds, roleIds: $roleIds) {\n            tokenStr\n          }\n        }\n",variables:{id:id,email:email,name:name,partnerIds:partnerIds,roleIds:roleIds},pull:"orgUserInviteUpsert"},{invalidateAll:!0})})),defineProperty_default()(this,"deleteById",(function(id){return _this.auth.call({query:"\n        mutation OrgUserInviteDeleteById($id: ID) {\n          orgUserInviteDeleteById(id: $id)\n        }\n",variables:{id:id},pull:"orgUserInviteDeleteById"},{invalidateAll:!0})})),this.auth=auth},findIndex=(__webpack_require__(633),__webpack_require__(673)),overlay_Overlay=function(){function Overlay(){var _this=this;classCallCheck_default()(this,Overlay),defineProperty_default()(this,"getData",(function(){return _this._data})),defineProperty_default()(this,"get",(function(){return _this.overlays.getValue()})),defineProperty_default()(this,"get$",(function(){return _this.overlays.pipe(operators_map.a((function(overlays){return map.a(overlays,"$")})))})),defineProperty_default()(this,"open",(function($,param){null==param&&(param={});var _param=param,data=_param.data,onComplete=_param.onComplete,onCancel=_param.onCancel,id=_param.id;environment.a.isIos()&&document.activeElement.blur();var newOverlays=filter.a((_this.overlays.getValue()||[]).concat({$:$,onComplete:onComplete,onCancel:onCancel,id:id}));_this.overlays.next(newOverlays),window.addEventListener("backbutton",_this.closeFromBackButton),_this.setData(data),document.body.style.overflow="hidden"})),defineProperty_default()(this,"closeFromBackButton",(function(e){return e.stopPropagation(),_this.close({isFromBackButton:!0})})),defineProperty_default()(this,"close",(function(param){var onCancel,onComplete;null==param&&(param={});var _param2=param,action=_param2.action,response=_param2.response,id=_param2.id,overlays=_this.overlays.getValue();if(!isEmpty.a(overlays)){if(window.removeEventListener("backbutton",_this.closeFromBackButton),id){var index=findIndex.a(overlays,{id:id});if(-1!==index){var _overlays$index=overlays[index];onComplete=_overlays$index.onComplete,onCancel=_overlays$index.onCancel,overlays.splice(index,1)}}else{var _overlays$pop=overlays.pop();onComplete=_overlays$pop.onComplete,onCancel=_overlays$pop.onCancel}var _onComplete,_onCancel;if(isEmpty.a(overlays)&&(overlays=null),_this.overlays.next(overlays),"complete"===action)null===(_onComplete=onComplete)||void 0===_onComplete||_onComplete(response);else null===(_onCancel=onCancel)||void 0===_onCancel||_onCancel(response);document.body.style.overflow="auto"}})),this.overlays=new BehaviorSubject.a(null),this._data=new BehaviorSubject.a(null)}return createClass_default()(Overlay,[{key:"setData",value:function setData(data){return this._data.next(data)}}]),Overlay}(),status_bar_StatusBar=function StatusBar(){var _this=this;classCallCheck_default()(this,StatusBar),defineProperty_default()(this,"getData",(function(){return _this._data})),defineProperty_default()(this,"open",(function(data){if(_this._data.next(data),null!=data&&data.timeMs)return setTimeout(_this.close,data.timeMs)})),defineProperty_default()(this,"close",(function(){return _this._data.next(null)})),this._data=new BehaviorSubject.a(null)},time_Time=function Time(_ref){var _this=this,auth=_ref.auth;classCallCheck_default()(this,Time),defineProperty_default()(this,"updateServerTime",(function(){_this.auth.call({query:"query Time { time }"}).then((function(_ref2){var data=_ref2.data;_this.serverTime=Date.parse(data.time.now)}))})),defineProperty_default()(this,"getServerTime",(function(){return _this.serverTime})),defineProperty_default()(this,"dispose",(function(){clearInterval(_this.timeInterval)})),this.auth=auth,this.serverTime=Date.now(),this.timeInterval=setInterval((function(){_this.serverTime+=1e3}),1e3),setTimeout((function(){return _this.updateServerTime()}),100)},tooltip_Tooltip=function Tooltip(){var _this=this;classCallCheck_default()(this,Tooltip),defineProperty_default()(this,"get$",(function(){return _this.$tooltip})),defineProperty_default()(this,"set$",(function($tooltip){return _this.$tooltip.next($tooltip)})),this.$tooltip=new BehaviorSubject.a(null)},user_User=function User(options){var _this=this;classCallCheck_default()(this,User),defineProperty_default()(this,"getById",(function(id){return _this.auth.stream({query:"query UserGetById($id: ID!) { user(id: $id) { id, name, data { bio } } }",variables:{id:id}})})),defineProperty_default()(this,"getIp",(function(){return _this.cookie.get("ip")})),defineProperty_default()(this,"unsubscribeEmail",(function(_ref){var userId=_ref.userId,tokenStr=_ref.tokenStr;return _this.auth.call({query:"\n        mutation UserUnsubscribeEmail($userId: ID!, $tokenStr: String!) {\n          userUnsubscribeEmail(userId: $userId, tokenStr: $tokenStr): Boolean\n        }",variables:{userId:userId,tokenStr:tokenStr}})})),defineProperty_default()(this,"verifyEmail",(function(_ref2){var userId=_ref2.userId,tokenStr=_ref2.tokenStr;return _this.auth.call({query:"\n        mutation UserVerifyEmail($userId: ID!, $tokenStr: String!) {\n          userVerifyEmail(userId: $userId, tokenStr: $tokenStr): Boolean\n        }",variables:{userId:userId,tokenStr:tokenStr}})})),defineProperty_default()(this,"resendVerficationEmail",(function(){return _this.auth.call({query:"\n        mutation UserResendVerficationEmail {\n          userResendVerficationEmail: Boolean\n        }\n        "})})),defineProperty_default()(this,"upsert",(function(diff){var _ref3=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},file=_ref3.file;if(file){var formData=new FormData;return formData.append("file",file,file.name),_this.proxy(_this.apiUrl+"/upload",{method:"POST",query:{path:"graphql",body:JSON.stringify({query:"\n              mutation UserUpsert($diff UserInput!) {\n                userUpsert($diff) {\n                  user {\n                    id # FIXME: fragment?\n                    name\n                    email\n                  }\n                }\n              }",variables:JSON.stringify({input:diff})})},body:formData}).then((function(response){return setTimeout(_this.exoid.invalidateAll,0),response}))}return _this.auth.call({query:"\n          mutation UserUpsert($diff UserInput!) {\n            userUpsert($diff) {\n              user {\n                id # FIXME: fragment?\n                name\n                email\n              }\n            }\n          }",variables:{input:diff}},{invalidateAll:!0})})),defineProperty_default()(this,"getDisplayName",(function(user){return(null==user?void 0:user.name)||_this.lang.get("general.anonymous")})),defineProperty_default()(this,"isMember",(function(user){return Boolean(null==user?void 0:user.email)})),this.auth=options.auth,this.proxy=options.proxy,this.exoid=options.exoid,this.cookie=options.cookie,this.lang=options.lang,this.overlay=options.overlay,this.portal=options.portal,this.apiUrl=options.apiUrl,this.getMe=this.auth.getMe};function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}var localStyle,src_models_Model=function(_SharedModel){inherits_default()(Model,_SharedModel);var _super=_createSuper(Model);function Model(){return classCallCheck_default()(this,Model),_super.apply(this,arguments)}return Model}(function(){function Model(options){var _globalThis$window,_globalThis$navigator,_this$portal,_this=this;classCallCheck_default()(this,Model),defineProperty_default()(this,"validateInitialCache",(function(){var cache=_this.initialCache,timeDiffMs=Math.abs(Date.now()-_this.initialCacheTime);if(console.warn(timeDiffMs),!(timeDiffMs<3e4)){_this.initialCache=null,console.log("refetching from exoid for latest version");var requestsStreamArr=map.a(cache,(function(result,key){var req;try{req=JSON.parse(key)}catch(error){req={}}if(req.path)return _this.auth.stream(req.body,{ignoreCache:!0})}));return combineLatest.a(requestsStreamArr).pipe(take.a(1)).subscribe((function(responses){responses=zipWith.a(responses,keys.a(cache),(function(response,req){return{req:req,response:response}}));var cacheArray=map.a(cache,(function(response,req){return{req:req,response:response}})),changedReqs=differenceWith.a(responses,cacheArray,isEqual.a);if(map.a(changedReqs,(function(_ref){var req=_ref.req,response=_ref.response;return console.log("OUTDATED EXOID:",req,"replacing...",response),_this.exoid.setDataCache(req,response)})),!isEmpty.a(changedReqs))return console.log("invalidating html cache..."),_this.portal.call("cache.deleteHtmlCache")}))}console.log("exoid cache up-to-date")})),defineProperty_default()(this,"wasCached",(function(){return _this.isFromCache})),defineProperty_default()(this,"dispose",(function(){return _this.time.dispose(),_this.exoid.disposeAll()})),defineProperty_default()(this,"getSerializationStream",(function(){return _this.exoid.getCacheStream().pipe(operators_map.a((function(exoidCache){var string=JSON.stringify({exoid:exoidCache,now:Date.now()}).replace(/<\/script/gi,"<\\/script");return"window['".concat("MODEL","']=").concat(string,";")})))}));var io=options.io,cookie=options.cookie,portal=options.portal,lang=options.lang,userAgent=options.userAgent,authCookie=options.authCookie,host=options.host,product=options.product,_options$serverHeader=options.serverHeaders,serverHeaders=void 0===_options$serverHeader?{}:_options$serverHeader;this.cookie=cookie,this.portal=portal;var _cache=(null===globalThis||void 0===globalThis||null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window?void 0:_globalThis$window.MODEL)||{};if("undefined"!=typeof window){console.log("using cache",_cache),window.MODEL=null;var $$el=document.querySelector(".model");$$el&&($$el.innerHTML="")}this.isFromCache=!isEmpty.a(_cache);var offlineCache,proxy=function(){var _ref2=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(url,opts){var accessToken,orgSlug,proxyHeaders,response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return accessToken=_this.cookie.get("accessToken"),orgSlug=_this.cookie.get("orgSlug"),proxyHeaders=pick.a(serverHeaders,["cookie","user-agent","accept-language","x-forwarded-for"]),accessToken&&(url+="?accessToken=".concat(accessToken),orgSlug&&(url+="&orgSlug=".concat(orgSlug))),_context.next=6,window.fetch(url,merge.a({responseType:"json",headers:isPlainObject.a(null==opts?void 0:opts.body)?merge.a({"Content-Type":"text/plain"},proxyHeaders):proxyHeaders},opts));case 6:return response=_context.sent,_context.abrupt("return",response.json());case 8:case"end":return _context.stop()}}),_callee)})));return function proxy(_x,_x2){return _ref2.apply(this,arguments)}}();offlineCache=null!==globalThis&&void 0!==globalThis&&null!==(_globalThis$navigator=globalThis.navigator)&&void 0!==_globalThis$navigator&&_globalThis$navigator.onLine?null:function(){try{var _localStorage;return JSON.parse(null===(_localStorage=localStorage)||void 0===_localStorage?void 0:_localStorage.offlineCache)}catch(error){return{}}}(),this.initialCache=defaults.a(offlineCache,_cache.exoid),this.initialCacheTime=_cache.now,this.exoid=new exoid_src.a({ioEmit:function ioEmit(event,opts){var accessToken=_this.cookie.get("accessToken"),orgSlug=_this.cookie.get("orgSlug");return io.emit(event,defaults.a({accessToken:accessToken,orgSlug:orgSlug,userAgent:userAgent,product:product},opts))},io:io,cache:this.initialCache,isServerSide:"undefined"==typeof window||null===window}),this.token=new BehaviorSubject.a(null),this.overlay=new overlay_Overlay,this.auth=new auth_Auth({exoid:this.exoid,cookie:this.cookie,pushToken:this.token,lang:lang,userAgent:userAgent,portal:this.portal,authCookie:authCookie,host:host}),this.offlineData=new offline_data_OfflineDataModel({exoid:this.exoid,portal:this.portal,statusBar:this.statusBar,lang:lang}),this.image=new image_ImageModel({additionalScript:this.additionalScript}),this.org=new org_Org({auth:this.auth}),this.orgUser=new org_user_OrgUser({auth:this.auth}),this.orgUserInvite=new org_user_invite_OrgUserInvite({auth:this.auth}),this.loginLink=new login_link_LoginLink({auth:this.auth}),this.statusBar=new status_bar_StatusBar,this.time=new time_Time({auth:this.auth}),this.user=new user_User({auth:this.auth,proxy:proxy,exoid:this.exoid,cookie:this.cookie,lang:lang,overlay:this.overlay,portal:this.portal}),this.drawer=new drawer_Drawer,this.tooltip=new tooltip_Tooltip,null===(_this$portal=this.portal)||void 0===_this$portal||_this$portal.setModels({user:this.user,installOverlay:this.installOverlay,overlay:this.overlay})}return createClass_default()(Model,[{key:"getSerialization",value:function getSerialization(){var exoidCache=this.exoid.getSynchronousCache(),string=JSON.stringify({exoid:exoidCache,now:Date.now()}).replace(/<\/script/gi,"<\\/script");return"window['".concat("MODEL","']=").concat(string,";")}}]),Model}());null!==globalThis&&void 0!==globalThis&&globalThis.window&&(localStyle=getComputedStyle(document.body));var $black87="rgba(0, 0, 0, 0.87)",$white="#ffffff",cssColors={"--header-500":"#ffffff","--header-500-text":$black87,"--header-500-text-54":"rgba(0, 0, 0, 0.54)","--header-500-icon":"#757575","--primary-50":"#E8E4F1","--primary-100":"#C5BDDD","--primary-200":"#9E91C7","--primary-300":"#4a29b3","--primary-400":"#59439F","--primary-500":"#3C228E","--primary-main":"#3C228E","--primary-main-8":"rgba(28, 11, 81, 0.08)","--primary-600":"#361E86","--primary-700":"#2E197B","--primary-800":"#271471","--primary-900":"#1c0b51","--primary-900-54":"rgba(28, 11, 81, 0.54)","--primary-100-text":$black87,"--primary-200-text":$black87,"--primary-300-text":"#FAFAFA","--primary-400-text":"#FAFAFA","--primary-500-text":"#FAFAFA","--primary-main-text":"#FAFAFA","--primary-600-text":"#FAFAFA","--primary-700-text":"#FAFAFA","--primary-800-text":"#FAFAFA","--primary-900-text":"#FAFAFA","--primary-900-text-54":"rgba(250, 250, 250, 0.54)","--secondary-50":"#FFE5F0","--secondary-100":"#FFBFD8","--secondary-200":"#FF94BF","--secondary-300":"#FF69A5","--secondary-400":"#FF4991","--secondary-500":"#FF297E","--secondary-600":"#FF2476","--secondary-700":"#FF1F6B","--secondary-800":"#FF1961","--secondary-900":"#FF0F4E","--secondary-100-text":$black87,"--secondary-200-text":$black87,"--secondary-300-text":$black87,"--secondary-400-text":$black87,"--secondary-500-text":$white,"--secondary-600-text":$white,"--secondary-700-text":$white,"--secondary-800-text":$white,"--secondary-900-text":$white,"--bg-color":"#ffffff","--bg-color-alt-1":"#F8F8F8","--bg-color-alt-2":"#EEEEEE","--bg-backdrop":"rgba(250, 250, 250, 0.73)","--bg-text":"rgba(0, 0, 0, 0.70)","--bg-text-6":"rgba(0, 0, 0, 0.06)","--bg-text-12":"rgba(0, 0, 0, 0.12)","--bg-text-26":"rgba(0, 0, 0, 0.26)","--bg-text-38":"rgba(0, 0, 0, 0.38)","--bg-text-54":"rgba(0, 0, 0, 0.54)","--bg-text-60":"rgba(0, 0, 0, 0.6)","--bg-text-70":"rgba(0, 0, 0, 0.70)","--bg-text-87":$black87,"--bg-text-100":"#000000","--quaternary-500":"#fedf57","--quaternary-500-text":$white,"--test-color":"#000"},colors_colors=defaults.a({cssColors:cssColors,$header500:"var(--header-500)",$header500Text:"var(--header-500-text)",$header500Text54:"var(--header-500-text54)",$header500Icon:"var(--header-500-icon)",$primary50:"var(--primary-50)",$primary100:"var(--primary-100)",$primary200:"var(--primary-200)",$primary300:"var(--primary-300)",$primary400:"var(--primary-400)",$primary500:"var(--primary-500)",$primary50096:"var(--primary-50096)",$primary600:"var(--primary-600)",$primary700:"var(--primary-700)",$primary800:"var(--primary-800)",$primary900:"var(--primary-900)",$primary90054:"var(--primary-900-54)",$primaryMain:"var(--primary-main)",$primaryMain8:"var(--primary-main-8)",$primary100Text:"var(--primary-100-text)",$primary200Text:"var(--primary-200-text)",$primary300Text:"var(--primary-300-text)",$primary400Text:"var(--primary-400-text)",$primary500Text:"var(--primary-500-text)",$primary500Text54:"var(--primary-500-text-54)",$primary600Text:"var(--primary-600-text)",$primary700Text:"var(--primary-700-text)",$primary800Text:"var(--primary-800-text)",$primary900Text:"var(--primary-900-text)",$primaryMainText:"var(--primary-900-text)",$primaryMainText54:"var(--primary-900-text-54)",$secondary50:"var(--secondary-50)",$secondary100:"var(--secondary-100)",$secondary200:"var(--secondary-200)",$secondary300:"var(--secondary-300)",$secondary400:"var(--secondary-400)",$secondary500:"var(--secondary-500)",$secondary600:"var(--secondary-600)",$secondary700:"var(--secondary-700)",$secondary800:"var(--secondary-800)",$secondary900:"var(--secondary-900)",$secondaryMain:"var(--secondary-700)",$secondary100Text:"var(--secondary-100-text)",$secondary200Text:"var(--secondary-200-text)",$secondary300Text:"var(--secondary-300-text)",$secondary400Text:"var(--secondary-400-text)",$secondary500Text:"var(--secondary-500-text)",$secondary600Text:"var(--secondary-600-text)",$secondary700Text:"var(--secondary-700-text)",$secondary800Text:"var(--secondary-800-text)",$secondary900Text:"var(--secondary-900-text)",$secondaryMainText:"var(--secondary-700-text)",$bgColor:"var(--bg-color)",$bgColorAlt1:"var(--bg-color-alt-1)",$bgColorAlt2:"var(--bg-color-alt-2)",$bgBackdrop:"var(--bg-backdrop)",$quaternary500:"var(--quaternary-500)",$bgText:"var(--bg-text)",$bgText6:"var(--bg-text-6)",$bgText12:"var(--bg-text-12)",$bgText26:"var(--bg-text-26)",$bgText38:"var(--bg-text-38)",$bgText54:"var(--bg-text-54)",$bgText60:"var(--bg-text-60)",$bgText70:"var(--bg-text-70)",$bgText87:"var(--bg-text-87)",$bgText100:"var(--bg-text-100)",$tabSelected:$white,$tabUnselected:"#1a1a1a",$tabSelectedAlt:$white,$tabUnselectedAlt:"rgba(255, 255, 255, 0.54)",$transparent:"rgba(0, 0, 0, 0)",$common:"#3e4447",$white:$white,$red500:"#F44336",$amber500:"#FFC107",$graphTooltipBg:"#454545",getRawColor:function getRawColor(color){var matches;if("string"==typeof color&&(matches=color.match(/\(([^)]+)\)/))){var cssVariable=matches[1];return function use_css_variables_getRawColor(cssVariable){var _localStyle;return null===(_localStyle=localStyle)||void 0===_localStyle?void 0:_localStyle.getPropertyValue(cssVariable)}(cssVariable)||cssColors[cssVariable]}return color},getCssVariables:function getCssVariables(){var customColors=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},cssVars=defaults.a(customColors,cssColors);return cssVars["--drawer-header-500"]=cssVars["--drawer-header-500"]||cssVars["--primary-500"],cssVars["--drawer-header-500-text"]=cssVars["--drawer-header-500-text"]||cssVars["--primary-500-text"],map.a(cssVars,(function(value,key){return"".concat(key,":").concat(value)})).join(";")}});if("undefined"!=typeof window){var _window$CSS,_window$CSS$supports,_getComputedStyle,colors_$$el=document.getElementById("css-variable-test");!colors_$$el||(null===(_window$CSS=window.CSS)||void 0===_window$CSS||null===(_window$CSS$supports=_window$CSS.supports)||void 0===_window$CSS$supports?void 0:_window$CSS$supports.call(_window$CSS,"--fake-var",0))||"rgb(0, 0, 0)"===(null===(_getComputedStyle=getComputedStyle(colors_$$el,null))||void 0===_getComputedStyle?void 0:_getComputedStyle.backgroundColor)||(colors_colors=mapValues.a(colors_colors,(function(color,key){return colors_colors.getRawColor(color)})))}var frontend_shared_colors=colors_colors,decorators=[function($story){var _globalThis$navigator,initialCookies=cookie_default.a.parse(document.cookie),userAgent=null===globalThis||void 0===globalThis||null===(_globalThis$navigator=globalThis.navigator)||void 0===_globalThis$navigator?void 0:_globalThis$navigator.userAgent,io=socket_io_slim_default()(src_config.a.API_HOST,{path:(src_config.a.API_PATH||"")+"/socket.io",transports:["websocket"]}),cookie=new services_cookie({initialCookies:initialCookies,host:window.location.host,setCookie:function setCookie(key,value,options){document.cookie=cookie_default.a.serialize(key,value,options)}});console.log("_---",src_config.a.ENVS.PROD,src_config.a.ENV);var lang=new services_language({language:"en",cookie:cookie,files:src_config.a.ENV===src_config.a.ENVS.PROD?window.languageStrings:src_lang.getLangFiles()}),portal=new services_portal({lang:lang,iosAppUrl:src_config.a.IOS_APP_URL,googlePlayAppUrl:src_config.a.GOOGLE_PLAY_APP_URL}),browser=new window_Window({cookie:cookie,userAgent:userAgent}),model=new src_models_Model({io:io,portal:portal,lang:lang,cookie:cookie,userAgent:userAgent,product:src_config.a.APP_KEY,authCookie:src_config.a.AUTH_COOKIE,apiUrl:src_config.a.API_URL,host:window.location.host}),router=new services_router({model:model,cookie:cookie,lang:lang,portal:portal,router:new location_router_src.a,host:window.location.host});return Object(src.i)(src_context.Provider,{value:{model:model,router:router,portal:portal,lang:lang,cookie:cookie,browser:browser,config:src_config.a,colors:frontend_shared_colors}},[Object(src.i)($fonts),Object(src.i)($cssVars),Object(src.i)($story)])}];function $cssVars(){return Object(src.i)("style",{type:"text/css",innerHTML:":root {".concat(frontend_shared_colors.getCssVariables(),"}")})}function $fonts(){return Object(src.i)("style",{type:"text/css",innerHTML:" @font-face {font-family: 'Montserrat';font-style: normal;font-weight: 400;font-display: swap;src: local('Montserrat Regular'), local('Montserrat-Regular'), url(https://fonts.gstatic.com/s/montserrat/v14/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format('woff2');unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face {font-family: 'Montserrat';font-style: normal;font-weight: 400;font-display: swap;src: local('Montserrat Regular'), local('Montserrat-Regular'), url(https://fonts.gstatic.com/s/montserrat/v14/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face {font-family: 'Montserrat';font-style: normal;font-weight: 600;font-display: swap;src: local('Montserrat SemiBold'), local('Montserrat-SemiBold'), url(https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_bZF3gfD_u50.woff2) format('woff2');unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face {font-family: 'Montserrat';font-style: normal;font-weight: 600;font-display: swap;src: local('Montserrat SemiBold'), local('Montserrat-SemiBold'), url(https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_bZF3gnD_g.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face {font-family: 'Montserrat';font-style: normal;font-weight: 700;font-display: swap;src: local('Montserrat Bold'), local('Montserrat-Bold'), url(https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_dJE3gfD_u50.woff2) format('woff2');unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face {font-family: 'Montserrat';font-style: normal;font-weight: 700;font-display: swap;src: local('Montserrat Bold'), local('Montserrat-Bold'), url(https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_dJE3gnD_g.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}"})}},1450:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(190);var src=__webpack_require__(5),components_icon=__webpack_require__(132),of=__webpack_require__(1464),switchAll=__webpack_require__(1467);function $input(props){var icon=props.icon,placeholder=props.placeholder,valueStream=props.valueStream,valueStreams=props.valueStreams,errorStream=props.errorStream,isFullWidth=props.isFullWidth,disabled=props.disabled,readonly=props.readonly,onclick=props.onclick,_props$type=props.type,type=void 0===_props$type?"text":_props$type,_useStream=Object(src.h)((function(){return{value:(streams=valueStreams,stream=valueStream,(null==streams?void 0:streams.pipe(switchAll.a()))||stream),error:errorStream};var streams,stream})),value=_useStream.value,error=_useStream.error;return Object(src.i)(".z-input",{className:Object(src.a)({isFullWidth:isFullWidth,hasIcon:icon})},[Object(src.i)("input.input",{placeholder:placeholder,value:value,type:type,onclick:onclick,disabled:disabled,readonly:readonly,oninput:function oninput(e){!function setStreamsOrStream(streams,stream,value){return streams?streams.next(of.a(value)):stream.next(value)}(valueStreams,valueStream,e.target.value)}}),icon&&Object(src.i)(".icon",Object(src.i)(components_icon.a,{icon:icon})),error&&Object(src.i)(".error",error)])}"undefined"!=typeof window&&__webpack_require__(1444);__webpack_exports__.default={title:"$input",component:$input,argTypes:{placeholder:{control:"text"}}};var Default=function Template(props){return console.log("prop",props),Object(src.i)($input,props)}.bind({})},1451:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(190);var src=__webpack_require__(5),story=__webpack_require__(172),prop_types=__webpack_require__(3),prop_types_default=__webpack_require__.n(prop_types),context=__webpack_require__(90);function $appBar(props){var $topLeftButton=props.$topLeftButton,$topRightButton=props.$topRightButton,title=props.title,isRaised=props.isRaised,isPrimary=props.isPrimary,isSecondary=props.isSecondary,hasLogo=props.hasLogo,_props$isContained=props.isContained,isContained=void 0===_props$isContained||_props$isContained,color=props.color,bgColor=props.bgColor,_useContext=Object(src.d)(context.a),colors=_useContext.colors,model=_useContext.model,lang=_useContext.lang,router=_useContext.router,orgStream=Object(src.f)((function(){return{orgStream:model.org.getMe()}}),[]).orgStream,org=Object(src.h)((function(){return{org:orgStream}})).org;isPrimary?(color=color||colors.$primaryMainText,bgColor=bgColor||colors.$primaryMain):isSecondary?(color=color||colors.$secondaryMainText,bgColor=bgColor||colors.$secondaryMain):(color=color||colors.$header500Text,bgColor=bgColor||colors.$header500);var logo="hackclub"===(null==org?void 0:org.slug)?"https://assets.hackclub.com/flag-orpheus-top.svg":"upchieve"===(null==org?void 0:org.slug)?"https://static1.squarespace.com/static/57c0d8d1e58c622e8b6d5328/t/58e6f7d3cd0f6890d14a989b/1596229917902/?format=600w":"raisedbyus"===(null==org?void 0:org.slug)&&"https://images.squarespace-cdn.com/content/5a88648ca9db09295b5d7a8c/1518888367733-ME6DC2YQFWXG595E6OGG/RAISEDBY.US_.jpg?format=1500w&content-type=image%2Fjpeg";return console.log(org,logo,".............."),Object(src.i)("header.z-app-bar",{key:"app-bar",className:Object(src.a)({isRaised:isRaised,isContained:isContained,hasLogo:hasLogo})},[Object(src.i)(".bar",{style:{backgroundColor:bgColor}},[Object(src.i)(".top",$topLeftButton&&Object(src.i)(".top-left-button",{style:{color:color}},$topLeftButton),hasLogo&&Object(src.i)(".logo",{style:{backgroundImage:logo&&"url(".concat(logo,")")},onclick:function onclick(){router.go("orgHome")}}),!hasLogo&&Object(src.i)("h1.title",{style:{color:color}},title||[Object(src.i)(".span.logo-tech",lang.get("appBar.title")),Object(src.i)(".span.logo-by","byTechBy")]),Object(src.i)(".top-right-button",{style:{color:color}},$topRightButton))])])}"undefined"!=typeof window&&__webpack_require__(1440),$appBar.propTypes={$topLeftButton:prop_types_default.a.node,$topRightButton:prop_types_default.a.node,title:prop_types_default.a.string,isRaised:prop_types_default.a.bool,isPrimary:prop_types_default.a.bool,isSecondary:prop_types_default.a.bool,hasLogo:prop_types_default.a.bool,isContained:prop_types_default.a.bool};__webpack_exports__.default={title:"$appBar",component:$appBar,argTypes:Object(story.a)($appBar)};var Default=function Template(props){return Object(src.i)($appBar,props)}.bind({});Default.args={title:"Test page"}},1452:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(190);var zorium_src=__webpack_require__(5),story=__webpack_require__(172),defineProperty=(__webpack_require__(15),__webpack_require__(211),__webpack_require__(2)),defineProperty_default=__webpack_require__.n(defineProperty),prop_types=__webpack_require__(3),prop_types_default=__webpack_require__.n(prop_types),context=__webpack_require__(90);"undefined"!=typeof window&&__webpack_require__(1441);function $avatar(_ref){var _user$avatarImage,_user$id,_user$id2,user=_ref.user,src=_ref.src,rotation=_ref.rotation,_ref$size=_ref.size,size=void 0===_ref$size?"40px":_ref$size,config=Object(zorium_src.d)(context.a).config,prefix=null==user||null===(_user$avatarImage=user.avatarImage)||void 0===_user$avatarImage?void 0:_user$avatarImage.prefix;prefix&&(src||(src="".concat(config.UGC_CDN_URL,"/").concat(prefix,".small.jpg"))),src||(src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CgogPGc+CiAgPHRpdGxlPmJhY2tncm91bmQ8L3RpdGxlPgogIDxyZWN0IGZpbGw9Im5vbmUiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgaGVpZ2h0PSI0MDIiIHdpZHRoPSI1ODIiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgogPGc+CiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogIDxwYXRoIGlkPSJzdmdfMSIgZD0ibTE2LDhhNCw0IDAgMCAxIDQsNGE0LDQgMCAwIDEgLTQsNGE0LDQgMCAwIDEgLTQsLTRhNCw0IDAgMCAxIDQsLTRtMCwxMGM0LjQyLDAgOCwxLjc5IDgsNGwwLDJsLTE2LDBsMCwtMmMwLC0yLjIxIDMuNTgsLTQgOCwtNHoiIGZpbGw9InJnYmEoMCwgMCwgMCwgMC41KSIvPgogPC9nPgo8L3N2Zz4=");var defaultColors=[],lastChar=(null==user||null===(_user$id=user.id)||void 0===_user$id?void 0:_user$id.substr((null==user||null===(_user$id2=user.id)||void 0===_user$id2?void 0:_user$id2.length)-1,1))||"a",avatarColor=defaultColors[Math.ceil(parseInt(lastChar,16)/16*(defaultColors.length-1))];return Object(zorium_src.i)(".z-avatar",{style:{width:size,height:size,backgroundColor:avatarColor}},[src&&Object(zorium_src.i)(".image",{className:rotation?Object(zorium_src.a)(defineProperty_default()({},rotation,!0)):void 0,style:{backgroundImage:user?"url(".concat(src,")"):void 0}})])}$avatar.propTypes={user:prop_types_default.a.object,src:prop_types_default.a.string,rotation:prop_types_default.a.number,size:prop_types_default.a.string};__webpack_exports__.default={title:"$avatar",component:$avatar,argTypes:Object(story.a)($avatar)};var Default=function Template(props){return Object(zorium_src.i)($avatar,props)}.bind({});Default.args={}},172:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getArgTypes}));__webpack_require__(24),__webpack_require__(13),__webpack_require__(20),__webpack_require__(21),__webpack_require__(98);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),lodash_es__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1454),check_prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(470),check_prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(check_prop_types__WEBPACK_IMPORTED_MODULE_7__),getArgTypes=function getArgTypes($component){return lodash_es__WEBPACK_IMPORTED_MODULE_6__.a($component.propTypes,(function(propType,propName){var fakeProps=_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({},propName,"this is a string");console.log(fakeProps,propType,check_prop_types__WEBPACK_IMPORTED_MODULE_7___default.a);var err=check_prop_types__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({},propName,propType),fakeProps,"prop"),type="string";if(err){try{type=err.toString().match(/expected `(\w+)`/i)[1]}catch(_unused){}}return{type:type,isRequired:!1}}))}},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return $button}));var regenerator=__webpack_require__(42),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(82),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),src=__webpack_require__(5),BehaviorSubject=__webpack_require__(1455),prop_types=__webpack_require__(3),prop_types_default=__webpack_require__.n(prop_types),environment=(__webpack_require__(13),__webpack_require__(113),__webpack_require__(159),__webpack_require__(83));"undefined"!=typeof window&&__webpack_require__(1431);function $ripple(props){var color=props.color,isCircle=props.isCircle,isCenter=props.isCenter,onComplete=props.onComplete,fadeIn=props.fadeIn,$$ref=Object(src.g)();function onTouch(e){var _e$touches,_e$touches$,_e$touches2,_e$touches2$;!function ripple(param){null==param&&(param={});var _param=param,$$target=_param.$$target,color=_param.color,isCenter=_param.isCenter,mouseX=_param.mouseX,mouseY=_param.mouseY,onComplete=_param.onComplete,fadeIn=_param.fadeIn,$$wave=$$target.querySelector(".wave");if($$wave){var x,y,_$$target$getBounding=$$target.getBoundingClientRect(),width=_$$target$getBounding.width,height=_$$target$getBounding.height,top=_$$target$getBounding.top,left=_$$target$getBounding.left;return isCenter?(x=width/2,y=height/2):(x=mouseX-left,y=mouseY-top),$$wave.style.top=y+"px",$$wave.style.left=x+"px",$$wave.style.backgroundColor=color,$$wave.className=fadeIn?"wave fade-in is-visible":"wave is-visible",new Promise((function(resolve,reject){return setTimeout((function(){console.log("complete",onComplete),onComplete&&onComplete(),resolve(),setTimeout((function(){$$wave.className="wave"}),100)}),350)}))}}({$$target:e.target,color:color,isCenter:isCenter,onComplete:onComplete,fadeIn:fadeIn,mouseX:e.clientX||(null===(_e$touches=e.touches)||void 0===_e$touches||null===(_e$touches$=_e$touches[0])||void 0===_e$touches$?void 0:_e$touches$.clientX),mouseY:e.clientY||(null===(_e$touches2=e.touches)||void 0===_e$touches2||null===(_e$touches2$=_e$touches2[0])||void 0===_e$touches2$?void 0:_e$touches2$.clientY)})}return Object(src.i)(".z-ripple",{ref:$$ref,className:Object(src.a)({isCircle:isCircle}),ontouchstart:onTouch,onmousedown:environment.a.isAndroid()?null:onTouch},Object(src.i)(".wave"))}var components_icon=__webpack_require__(132),context=__webpack_require__(90);function $button(props){var _onclick2,isPrimary=props.isPrimary,isSecondary=props.isSecondary,isDisplay=props.isDisplay,isInverted=props.isInverted,isDisabled=props.isDisabled,text=props.text,isBgColor=props.isBgColor,isOutline=props.isOutline,icon=props.icon,shouldHandleLoading=props.shouldHandleLoading,_props$onclick=props.onclick,_onclick=void 0===_props$onclick?function(){return null}:_props$onclick,_props$isFullWidth=props.isFullWidth,isFullWidth=void 0===_props$isFullWidth||_props$isFullWidth,_props$type=props.type,type=void 0===_props$type?"button":_props$type,_props$heightPx=props.heightPx,heightPx=void 0===_props$heightPx?36:_props$heightPx,_props$hasRipple=props.hasRipple,hasRipple=void 0===_props$hasRipple||_props$hasRipple,_useContext=Object(src.d)(context.a),colors=_useContext.colors,lang=_useContext.lang,isLoadingStream=Object(src.f)((function(){return{isLoadingStream:props.isLoadingStream||new BehaviorSubject.a(!1)}}),[]).isLoadingStream,isLoading=Object(src.h)((function(){return{isLoading:isLoadingStream}})).isLoading;return console.log("button render",text),Object(src.i)(".z-button",{className:Object(src.a)({isFullWidth:isFullWidth,isOutline:isOutline,isPrimary:isPrimary,isSecondary:isSecondary,isBgColor:isBgColor,isDisplay:isDisplay,isInverted:isInverted,isDisabled:isDisabled}),onclick:(_onclick2=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(e){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isDisabled){_context.next=12;break}return shouldHandleLoading&&isLoadingStream.next(!0),_context.prev=2,_context.next=5,_onclick(e);case 5:shouldHandleLoading&&isLoadingStream.next(!1),_context.next=12;break;case 8:throw _context.prev=8,_context.t0=_context.catch(2),shouldHandleLoading&&isLoadingStream.next(!1),_context.t0;case 12:case"end":return _context.stop()}}),_callee,null,[[2,8]])}))),function onclick(_x){return _onclick2.apply(this,arguments)})},[Object(src.i)("button.button",{type:type,disabled:Boolean(isDisabled),style:{minHeight:"".concat(heightPx,"px")}},[icon&&Object(src.i)(".icon",[Object(src.i)(components_icon.a,{icon:icon,color:isPrimary?colors.$primaryMainText:colors.$primaryMain})]),isLoading?lang.get("general.loading"):text,hasRipple&&Object(src.i)($ripple,{color:isPrimary?colors.$primaryMainText:colors.$bgText26})])])}"undefined"!=typeof window&&__webpack_require__(1430),$button.propTypes={isPrimary:prop_types_default.a.bool.isRequired,isDisplay:prop_types_default.a.bool,isSecondary:prop_types_default.a.bool,isInverted:prop_types_default.a.bool,isDisabled:prop_types_default.a.bool,text:prop_types_default.a.string,isBgColor:prop_types_default.a.bool,isOutline:prop_types_default.a.bool,icon:prop_types_default.a.string,shouldHandleLoading:prop_types_default.a.bool,onclick:prop_types_default.a.func,isFullWidth:prop_types_default.a.bool,type:prop_types_default.a.oneOf(["button","enum"]),heightPx:prop_types_default.a.number,hasRipple:prop_types_default.a.bool}},342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return closeIconPath})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteIconPath}));var closeIconPath="M19,6.41 L17.59,5 L12,10.59 L6.41,5 L5,6.41 L10.59,12 L5,17.59 L6.41,19 L12,13.41 L17.59,19 L19,17.59 L13.41,12 L19,6.41 Z",deleteIconPath="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},681:function(module,exports,__webpack_require__){__webpack_require__(682),__webpack_require__(1001),__webpack_require__(1002),__webpack_require__(1160),__webpack_require__(1377),__webpack_require__(1389),__webpack_require__(1391),__webpack_require__(1396),__webpack_require__(1398),__webpack_require__(1403),module.exports=__webpack_require__(1438)},794:function(module,exports){},83:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(15),__webpack_require__(13),__webpack_require__(113),__webpack_require__(210),__webpack_require__(20),__webpack_require__(21),__webpack_require__(98),__webpack_require__(116);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__),lodash_es__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(353),Environment=function(){function Environment(){var _this=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this,Environment),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this,"getPlatform",(function(){var _globalThis$navigator,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref.userAgent;userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator=globalThis.navigator)||void 0===_globalThis$navigator?void 0:_globalThis$navigator.userAgent);var isApp=_this.isNativeApp(_this.appKey,{userAgent:userAgent});return isApp&&_this.isIos({userAgent:userAgent})?"ios":isApp&&_this.isAndroid({userAgent:userAgent})?"android":"web"}))}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9___default()(Environment,[{key:"setAppKey",value:function setAppKey(appKey){return this.appKey=appKey,null}},{key:"isMobile",value:function isMobile(){var _globalThis$navigator2,_ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref2.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator2=globalThis.navigator)||void 0===_globalThis$navigator2?void 0:_globalThis$navigator2.userAgent),new RegExp("Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune").test(userAgent)}},{key:"isAndroid",value:function isAndroid(){var _globalThis$navigator3,_ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref3.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator3=globalThis.navigator)||void 0===_globalThis$navigator3?void 0:_globalThis$navigator3.userAgent),lodash_es__WEBPACK_IMPORTED_MODULE_11__.a(userAgent,"Android")}},{key:"isIos",value:function isIos(){var _globalThis$navigator4,_userAgent,_ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref4.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator4=globalThis.navigator)||void 0===_globalThis$navigator4?void 0:_globalThis$navigator4.userAgent),Boolean(null===(_userAgent=userAgent)||void 0===_userAgent?void 0:_userAgent.match(/iP(hone|od|ad)/g))}},{key:"isNativeApp",value:function isNativeApp(){var _globalThis$navigator5,_userAgent2,_ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref5.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator5=globalThis.navigator)||void 0===_globalThis$navigator5?void 0:_globalThis$navigator5.userAgent),lodash_es__WEBPACK_IMPORTED_MODULE_11__.a(null===(_userAgent2=userAgent)||void 0===_userAgent2?void 0:_userAgent2.toLowerCase()," ".concat(this.appKey,"/"))}},{key:"isMainApp",value:function isMainApp(){var _globalThis$navigator6,_userAgent3,_ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref6.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator6=globalThis.navigator)||void 0===_globalThis$navigator6?void 0:_globalThis$navigator6.userAgent),lodash_es__WEBPACK_IMPORTED_MODULE_11__.a(null===(_userAgent3=userAgent)||void 0===_userAgent3?void 0:_userAgent3.toLowerCase()," ".concat(this.appKey,"/").concat(this.appKey))}},{key:"isOrganizationApp",value:function isOrganizationApp(organizationAppKey){var _globalThis$navigator7,_userAgent4,_ref7=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},userAgent=_ref7.userAgent;return userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator7=globalThis.navigator)||void 0===_globalThis$navigator7?void 0:_globalThis$navigator7.userAgent),Boolean(organizationAppKey&&lodash_es__WEBPACK_IMPORTED_MODULE_11__.a(null===(_userAgent4=userAgent)||void 0===_userAgent4?void 0:_userAgent4.toLowerCase()," ".concat(this.appKey,"/").concat(organizationAppKey,"/")))}},{key:"getAppKey",value:function getAppKey(){var _globalThis$navigator8,_ref8=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref8.userAgent,matches=(userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator8=globalThis.navigator)||void 0===_globalThis$navigator8?void 0:_globalThis$navigator8.userAgent)).match(/techby\/([a-zA-Z0-9-]+)/);return(null==matches?void 0:matches[1])||"browser"}},{key:"hasPushSupport",value:function hasPushSupport(){var _globalThis$window;return Promise.resolve(Boolean(null===globalThis||void 0===globalThis||null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window?void 0:_globalThis$window.PushManager))}},{key:"getAppVersion",value:function getAppVersion(){var _globalThis$navigator9,_ref9=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},userAgent=_ref9.userAgent;userAgent=userAgent||(null===globalThis||void 0===globalThis||null===(_globalThis$navigator9=globalThis.navigator)||void 0===_globalThis$navigator9?void 0:_globalThis$navigator9.userAgent);var regex=new RegExp("(".concat(this.appKey,")/(?:[a-zA-Z0-9]+/)?([0-9.]+)")),matches=userAgent.match(regex);return null==matches?void 0:matches[2]}}]),Environment}();__webpack_exports__.a=new Environment},84:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__(15),__webpack_require__(18),__webpack_require__(211),__webpack_require__(20),__webpack_require__(72),__webpack_require__(69);var _process,API_HOST,API_PATH,config,lodash_es__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),assert_none_missing_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(468),serverEnv=null===(_process=process)||void 0===_process?void 0:Object({NODE_ENV:"development",NODE_PATH:":/home/austin/npm/lib/node_modules",STORYBOOK:"true",PUBLIC_URL:"."}),HOST="192.168.0.109.xip.io:50370",HOSTNAME=HOST.split(":")[0],API_URL=serverEnv.PHIL_API_URL||"http://192.168.0.109.xip.io:50330";if(-1!==API_URL.indexOf("/")){var API_HOST_ARRAY=API_URL.split("/");API_HOST=API_HOST_ARRAY[0]+"//"+API_HOST_ARRAY[2],API_PATH=API_URL.replace(API_HOST,"")}else API_HOST=API_URL,API_PATH="";var CDN_URL="https://tdn.one/assets/images",isomorphic={APP_KEY:"impact",APP_NAME:"TechBy",LANGUAGES:["en"],EMPTY_UUID:"00000000-0000-0000-0000-000000000000",CDN_URL:CDN_URL,SCRIPTS_CDN_URL:"https://tdn.one/scripts",UGC_CDN_URL:"https://tdn.one/ugc",FAVICON_URL:"".concat(CDN_URL,"/favicon.png?1"),ICON_256_URL:"".concat(CDN_URL,"/web_icon_256.png"),IOS_APP_URL:"FIXME",GOOGLE_PLAY_APP_URL:"FIXME",GOOGLE_ANALYTICS_ID:"UA-168233278-1",HOST:HOST,API_URL:API_URL,PUBLIC_API_URL:"http://192.168.0.109.xip.io:50330",API_HOST:API_HOST,API_PATH:API_PATH,DEFAULT_NOTIFICATIONS:{},FIREBASE:{API_KEY:"AIzaSyA6Lz0jqK-0cUEOCIH4zcnGIo9x808gYK0",AUTH_DOMAIN:"good-today-demo.firebaseapp.com",DATABASE_URL:"https://good-today-demo.firebaseio.com",PROJECT_ID:"good-today-demo",MESSAGING_SENDER_ID:"228929433695"},DEV_USE_HTTPS:!1,AUTH_COOKIE:"accessToken",ENV:serverEnv.NODE_ENV||"development",ENVS:{DEV:"development",PROD:"production",TEST:"test"}},PORT=serverEnv.IMPACT_PORT||3e3,WEBPACK_DEV_PORT=serverEnv.WEBPACK_DEV_PORT||parseInt(PORT)+1,server={PORT:PORT,WEBPACK_DEV_PORT:WEBPACK_DEV_PORT,WEBPACK_DEV_PROTOCOL:"http://",WEBPACK_DEV_URL:serverEnv.WEBPACK_DEV_URL||"".concat("http://").concat(HOSTNAME,":").concat(WEBPACK_DEV_PORT),SELENIUM_TARGET_URL:serverEnv.SELENIUM_TARGET_URL||null,REMOTE_SELENIUM:"1"===serverEnv.REMOTE_SELENIUM,SELENIUM_BROWSER:serverEnv.SELENIUM_BROWSER||"chrome",SAUCE_USERNAME:serverEnv.SAUCE_USERNAME||null,SAUCE_ACCESS_KEY:serverEnv.SAUCE_ACCESS_KEY||null};Object(assert_none_missing_index_js__WEBPACK_IMPORTED_MODULE_7__.a)(isomorphic),"undefined"!=typeof window&&null!==window?config=isomorphic:(Object(assert_none_missing_index_js__WEBPACK_IMPORTED_MODULE_7__.a)(server),config=lodash_es__WEBPACK_IMPORTED_MODULE_6__.a(isomorphic,server)),__webpack_exports__.a=config}).call(this,__webpack_require__(236))},90:function(module,__webpack_exports__,__webpack_require__){"use strict";var zorium__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);__webpack_exports__.a=Object(zorium__WEBPACK_IMPORTED_MODULE_0__.b)()}},[[681,1,2]]]);
//# sourceMappingURL=main.967c6a12ab0812d18e00.bundle.js.map